#+STARTUP: overview
#+STARTUP: hidestars
#+STARTUP: logdone
#+COLUMNS: %38ITEM(Details) %7TODO(To Do) %TAGS(Context) 
#+OPTIONS: tags:t 
#+OPTIONS: timestamp:t p:t
#+OPTIONS: todo:t
#+OPTIONS: TeX:t
##Do the right thing automatically (MathJax)
#+OPTIONS: LaTeX:t          
#+OPTIONS: skip:t @:t ::t |:t ^:t f:t



#+TAGS: practice recruitment interview sales swag
#+SEQ_TODO: SOMEDAY(s) BACKLOG(b) READY(r) TODO(t) WAITING(w) | DONE(d)
#+OPTIONS: toc:nil

* Learning Plan
  
** BACKLOG read https://testing.googleblog.com/2007/01/introducing-testing-on-toilet.html
** DOING Read DDD book
** BACKLOG Learn common antipatterns
*** [[https://sourcemaking.com/antipatterns/software-development-antipatterns][ref]]

* Learning Sources
** search courses and certifications	
*** https://www.mooc-list.com/
*** pluralsight
** Logs
*** Logstash
** Security
*** Snort
*** Tripwire
*** Fortify
*** [[https://krebsonsecurity.com/][Krebs On Security]]
** online library
http://BANQ.QC.CA
* Design & Architecture

** Design patterns
*** Web design patterns
**** MVC
ui -> controller: send update
controller -> model: update model
controller -> controller: execute ui logic
controller -> ui: send rendering page

**** MVP
similar to mvc, but with:
- listening / event driven
- no controller, the presenter gets ui events and changes the model, and ui gets updates through changes to the model + presenter

***** pros/cons
unit testing possible due to interfaces between view and presenter
- event driven = harder to troubleshoot
- logic in the ui: better SRP
- ui logic is testable
*** design patterns repository

**** Here is a list of references of design patterns

this is the list of basic design patterns:

- Patterns of Enterprise application architecture: the bible of patterns after the GOF
  - [The Book|https://read.amazon.ca/?asin=B008OHVDFM]
  - [Quick web reference|http://martinfowler.com/eaaCatalog/]
- [Read patterns updates|http://martinfowler.com/eaaDev/](Fowler)
  - extension of the book "patterns of enterprise application architecture"

*** xUnit test patterns

 interesting article: mock vs stubs: [http://martinfowler.com/articles/mocksArentStubs.html]
 complete list of patterns: [http://xunitpatterns.com/]
 understanding test doubles with mockito: [http://www.javaworld.com/article/2074508/core-java/mocks-and-stubs---understanding-test-doubles-with-mockito.html]

**** goals of test automation

 Test should:

***** help us improve quality

 1. Goal: Tests as Specification
     - Also known as Executable Specification
 2. Goal: Bug Repellent
 3. Goal: Defect Localization
     - We need to be able to point out where the problem is quickly based on which test fails
     - For Customer tests: identify which behaviour is not working
     - If a customer test fail but no unit test, we are missing a unit test


***** help us understand the SUT

 1. Goal: Tests as Documentation
     - Why: reduce maintenance
     - Why: speedup development

***** reduce risk

 1. Goal: Tests as Safety net
     - Why: improve quality
     - Why: speed up maintenance and release
     - Why: reduce TTM
     - Why: helps refactoring
 2. Goal: Do No Harm
     - Why: no added risks
     - How: out of production
     - How: should not give false belief that code is reliable when it is not properly tested

***** be easy to run

 1. Goal: fully automated
     - Why: need to be cheap to run
     - Why: cheap to run, devs don't defer their execution
 2. Goal: self checking tests
     - Why: Avoid "Obscure Tests"
     - Why: get feedback early
     - Why: cheap to run, devs don't defer their execution
     - How: they should detect and report errors without manual inspection
     - How: don't call us, we'll call you: test runner calls us only when a test did not pass
     - How: not output, no manual work unless issues are found
 3. Goal: repeatable test
     - Why: power of the red line goes down if we see it regularly without good reason
     - Why: confidence in the tests
     - Why: avoid the "broken window" symptoms
 4. Goal: independent

***** be easy to write and maintain

 1. Goal: Simple tests
     - Why: Avoid "Obscure Tests"
     - Why: improve readability
     - Why: reduce maintenance
     - How: each test method should drive SUT through a single code path
     - How: Single responsibility principle (SRP)
     - How: verify one condition per test
 2. Goal: Expressive tests
     - Why: Avoid "Obscure Tests"
     - How: utility methods
     - How: creation methods
     - How: custom assertion
     - Why: Don't repeat yourself (DRY)
     - Why: improve readability
     - Why: reduce maintenance
 3. Separation of concerns
     - Why: Avoid "Obscure Tests"
     - How: Test code vs Production code
     - How: Test concerns separately

***** require minimal maintenance as the system evolves around them

 1. Goal: Robust Test
     - Why: Identifies real issues (ie: no waste of time)
     - Why: Keep confidence in the test suite
     - How: Minimize overlap between tests so that only limited number of tests are failing on one change
     - How: isolate SUT dependencies



**** Strategies

***** kind of tests


 **Customer
 Tests**
 _Business intent_
 
 **Component
 Tests**
 _Architect Intent_
 
 **Unit Tests**
 _Developer Intent_

****** Unit test

 a test is **not** a unit test if:
 - It talks to the database
 - it communicates across the network
 - it touches the file system
 - it can't run correctly at the same time as any of your other unit tests
 - you have to do special things to your environment to run it

**** Test automation difficulty

 1. Simple entity objects
 2. Stateless service objects
 3. Stateful service objects
 4. Hard-to-Test code (DB, UI, concurrency)
 5. OO legacy software
 6. Non OO legacy software

**** Roadmap to Highly Maintainable Automated Tests

 1. Exercise the happy path code
 2. verify direct outputs of the happy path
 3. verify alternative paths
 4. verify indirect output behavior
 5. optimize test execution and maintainability
     - slow tests
     - obscure tests
     - buggy tests


**** Code Smells

 - Obscure test
 - Conditional Test logic
 - Hard-to-Test code
 - Test code Duplication
 - Test Logic in Production


***** Obscure test

 Long Test, Complex test, Verbose Test
 It is difficult to understand the test at a glance

****** Symptoms

 We are having trouble understanding what behavior a test is verifying


****** Impact

 - Harder to maintain
   - Preclude to "Tests as Documentation"
     - can lead to High Test Maintenance Cost
 - Allows bugs to slip through
   - test coding errors can result in Buggy Tests
   - failure in Eager test hide many more errors

****** Causes

 - too little information
   - Eager test: verifies too much functionality
     - preclude to defect localization
   - Mystery guest (part is done outside the test method)
 - too much information
   - general fixture
     - move to minimal fixture
   - irrelevant information
     - lots of information that distract
   - Hard-Coded test data
     - use named constants
     - don't should values that don't matter
   - indirect testing
     - we test code through another layer
     - code for testability
     - refactor
 - lack of attention to keep things clean and simple
   - test code is as important as production code (ie: need refactor, design, reviews)

***** Conditional test logic

 aka: indented test code

******  Symptoms

 reader wonder which path is executed

****** Impact

 - hard to know what the test is exactly doing
 - difficult to maintain and debug
 - can introduce errors

****** Causes

 - if conditions
 - loop to verify content of collections
 - verify complex objects (ex: foreign method implementation of equals method)
 - initialize test fixture of expected object
 - condition to avoid tearing down non-existent fixture objects

***** Hard to test code

****** solutions

 - design for testability
 - split hard to test code to increase testability

***** Test logic in production

****** Causes

 - test hook
 - for tests only code
 - test dependency in production
 - equality pollution ("test" equals method in production)

**** Behavior smells
     
 - assertion roulette
 - erratic test
 - fragile test
 - frequent debugging
 - manual intervention
 - slow tests

***** assertion roulette

 a test fails and we cannot determine which assertion failed from the runner output

****** impact

 problems may be hard to reproduce and missing important information make it:
 - time consuming
 - difficult to troubleshoot

****** Causes

 - eager test
 - missing assertion message

***** Erratic test

 one or more tests behave erratically; sometimes they pass and sometimes they fail

****** impact

 - temptation to disable the test (Lost test)
 - obscure other problems

****** Causes

 - interacting tests (test depends on another test in some way)
 - interacting test suites
 - Lonely test
 - resource leakage
   - set all resource pools to 1 to fail early
 - Resource optimism
   - fix with fresh fixture
 - unrepeatable test (interacts with itself across)
 - test run war (failure when several devs run the suite)
 - non-deterministic test (totally random failure)

***** fragile test

 A test fails to compile or run when the SUT is changed in ways that do not affect the part of the test is exercising

****** causes

 - interface sensitivity
 - behavior sensitivity
 - data sensitivity
 - context sensitivity
 - overspecified software
 - sensitive equality
 - fragile fixture


***** frequent debugging

 manual debugging is required to determine the cause of most test failures

****** Causes

 - Lack of defect localization
 - missing tests (component tests / integration tests)
 - infrequently run tests

****** impact

 - slow and tedious
 - reduce productivity and predictability

****** solution

 - ask yourself where this should have been detected and fix it


***** Manual intervention

 the person running the test must do something manually before or during the test, otherwise it fails.

****** impact

 - cost of getting feedback high
 - don't run the test often enough and miss issues
 - lead to frequent debugging and high test maintenance cost

****** Causes

 - manual fixture setup
 - manual result verification (lack of trust with the test system)
 - manual event injection
 
***** slow tests

  tests take too long to run

****** impact

 - direct cost in productivity while running the tests
 - 

**** Test Strategy Patterns

 1. Test automation Strategy
     - Recorded test
         - WHAT: record and playback
         - WHEN:
             - existing application that needs refactoring and dont have scripted tests
             - Regression testing
         - HOW: use a tool to monitor and record (proxy pattern) input and output. Then use the monitoring log to inject input and assert output
         - HOW: external recording tool (3pp)
             - Mercury QuickTest Professional (QTP) tool
         - HOW: internal recording tool. Refactor the SUT to include recording capabilities. (build an interaction log)
             - 
         - CONS: tests may be fragile (interface sensitivity). plan to re-record
         - REF: "Agile Regression Testing Using Record and Playback" [http://agileregressiontestpaper.gerardmeszaros.com/]
     - scripted test
         - WHAT: 
             - Hand written tests
             - can be customer or unit tests
         - WHEN:
             - Automate Customer Tests with higher level language
             - Not for legacy application
             - Data driven tests
         - HOW: 
             - higher level language
             - Unit testing / junit
         - TOOLS: Fit, Canoo WebTest, jBehave, Cucumber, jUnit, TestNG
     - Data-driven test
         - WHAT: We store all the information needed for each test in a data file and write an interpreter that reads the file and executes the tests
         - WHY: gives us the best coverage with the least amount of code
         - WHEN: 
             - Alternative to recorded test and scripted test
             - born from a sequence of refactors: scripted test -> parameterized test -> data driven test
         - HOW: 
             - test interpreter has all the common logics and read a datafile to execute tests
             - test continues to run after a failure
         - TOOLS: Fit, jBehave?, Cucumber?
     - Test automation framework
         - WHAT: framework that gives mechanism needed to run test logic
         - TOOLS: jUnit, CppUnit, NUnit, PyUnit, TestNG, jBehave, Cucumber, Mercury QuickTest Professional, Canoo WebTest, Watir. QTP, BPT, eCATT

 2. Test Fixture Strategy
     - Minimal fixture +++
         - WHAT: Use the smallest and simplest fixture possible for each test
         - WHY: 
             - easier to understand
             - Achieve Tests as Documentation
             - avoid: slow tests, obscure test
         - HOW:
             - Fresh (easier) or shared fixture. 
             - remove anything not necessary
             - Creation method, test method, dummy objects, test stub
     - Standard Fixture
         - WHAT: We reuse the design of test fixture across the many testso
         - HOW:  
             - design approach
             - a fresh or shared fixture
             - test utility method
             - delegated setup
         - WHEN:
             - manual test execution
             - not often seen in agile methodology where each test pull their required fixture
         - CONS:
             - obscure test
             - fragile test
             - implicit setup
             - slow test
     - Fresh Fixture **+++**
         - WHAT: Each test constructs its own brand-new test fixture for his own private use
         - WHY:
         - HOW:
             - Construct fixture in each test.
             - a compromise is an immutable shared fixture if cannot have a fresh fixture (too slow)
             - in-line setup, delegated setup (testcase class per class/feature), implicit setup (testcase class per fixture)
             - variation: transient fresh fixture (use local or instance variables and garbage collect)
             - variation: persistent fresh fixture (need teardown: inline, implicit, automated)
                 - avoid collision by using random unique keys
                 - can result is slow test or erratic test
         - WHEN:
             - we want to avoid interdependencies
             - avoid erratic tests
         - TOOLS: jfixture
     - Shared Fixture
         - WHAT: We reuse the same instance of the test fixture across many tests (a kind of standard fixture)
         - WHY:
         - HOW:
             - pre build fixture and reuse in multiple tests
         - WHEN:
             - when fixture creation is too slow
                 - better: use fake database or in memory database (HSQL)
                 - better: use test double like mocking
         - CONS:
             - fragile test
             - slow test
             - erratic tests
             - obscure test
 3. SUT Integration Strategy
     - Back Door Manipulation **+++**
         - WHAT: we setup the test fixture or verify the outcome by going through a backdoor
         - WHY:
         - HOW:
             - we connect directly on the database, file system 
         - WHEN:
             - using backdoor to setup the SUT
             - tear down truncation in persistent fresh fixture
             - verification
             - database population script
             - data loader in SUT
             - data extraction script
             - data retriever
             - test double as backdoor
         - CONS:
             - tests more tightly coupled with behaviour of the code
             - can lead to obscure test
             - fragile test
         - TOOLS: jmock, mockito
     - Layer test **+++**
         - WHAT: write separate tests for each layer of the layered architecture
         - WHY:
             - easier to test each layer independently than all together
         - HOW:
             - the test takes place of the layer above the one being tested
             - we use test double to test each layer independently
                 - we control indirect input
                 - we verify indirect output
         - WHEN:
             - presentation layer test
             - service layer test
             - subcutaneous test
             - component test

         - TOOLS:

**** xUnit basic patterns

 - Test Method  **+++**
 - Four-Phase Test  **+++**
 - Assertion Method  **+++**
 - Assertion Message  **+++**
 - Testcase Class 
 - Test Runner 
 - Testcase Object 
 - Test Suite Object 
 - Test Discovery  **+++**
 - Test Enumeration 
 - Test Selection  **+++**

**** Fixture Setup Patterns 

 - In-line Setup +++
 - Delegated Setup +++
 - creation Method +++
     - anonymized / parametrized methods +++
 - Implicit Setup -
 - Pre built Fixture -
 - Lazy Setup -
 - Suite Fixture Setup 
 - Setup Decorator 
 - Chained Tests ---

**** Result Verification Patterns 

 - State Verification +++
 - Behavior Verification +++
 - Custom Assertion +++
     - equality: foreign equals method
     - domain: assert method name that has business context
     - diagnostic: generate a more specific error message to avoid debugging
 - Delta Assertion 
     - delta: capture before and after state and compare. Isolate from the dataset changes
 - Guard Assertion +++
     - guard condition: replace if statements with an assert that fails
 - Unfinished Test Assertion +++
     - useful for TDD

**** Fixture Teardown Patterns 

 - Garbage-Collected Teardown +++
 - Automated Teardown +++
 - In-line Teardown +
 - Implicit Teardown +

**** Test Double Patterns 

 use when:
     - untested requirement: monitory indirect output from SUT when DOC does not allow inspection
     - untested code: DOC does not provide control point to provide indirect input needed to cover the code of the SUT
     - we have slow tests
     - layered architecture testing

 - Test Stub +
     - inject indirect input
 - Test Spy +++
     - recording test stub
     - capture indirect output calls
 - Mock Object +++
     - constant validation of indirect input
     - fail on the first deviation
     - return indirect output
 - Fake Object ++
 - Configurable Test Double +++
 - Hard-Coded Test Double -
 - Test-Specific Subclass -

**** Test Organization Patterns 

 - Named Test Suite 
 - Test Utility Method 
 - Parameterized Test 
 - Testcase Class per Class 
 - Testcase Class per Feature 
 - Testcase Class per Fixture 
 - Testcase Superclass 
 - Test Helper 



 - Dependency Injection 
 - Dependency Lookup 
 - Humble Object 
 - Test Hook 
 
**** Value Patterns 

 - Literal Value 
 - Derived Value 
 - Generated Value 
 - Dummy Object 


**** Fragile test problem
  - Behavior sensitivity
  - interface sensitivity
  - data sensitivity
  - context sensitivity

*** Data and content
**** BACKLOG https://speckyboy.com/deep-look-data-content-design-patterns/
**** BACKLOG [[http://ontologydesignpatterns.org/wiki/images/9/94/WOP_paper_11.pdf][template instance pattern]]
**** BACKLOG [[http://stackoverflow.com/questions/145689/relational-database-design-patterns]]

** Design decisions
*** Best practices
**** Drools
***** Best practices
	
- Keep deployable separate unit
- stateless
- limit number of facts in statefull sessions
- limit object size by using DTOs
- Use batched mode of execution
	- instead of adding object one at a time
- use drools for decisions, not for actual actions
- avoid using eval
- work on aggregates where possible
- use event logging for debugging
- keep individual rules small, simple and atomic
	- avoid cyclic triggering of rules when updating facts
	- use agenda groups and activation groups when possible
- use static java methods in your project to simplify rule action logic
	- why?

***** EAG best practices

- minimize the number of rules within a drl source file
	- for ease of maintainability, only one rule should be specified per file
- Group DRL files within a package to replesent a specific business rule matching context
- facts added to the knowledge session should be immutable
	- rule matching should not depend on the outcome of another rule's actions (create layers to reduce knowledge base size. Modularity)
	- it is preferred to execute the rule's actions by updating a responseholder object response to the rule's engine caller
	- at that point, the rule engine caller, can create a new session to re-evaluate the matching rules
- rules must be unit tested

infered facts = facts created by a then clause of a rule




***** questions

**feedback**: no clear rationale for the points above. unclear for lead and devs
- read about triggering on sub objects, using modify or update
- immutable input facts
- inferred facts vs derived facts

*** Security
**** auth protocols

good overview of SAML, oauth2, and OpenID and OpenID connect

***** protocols
SAML: XML based open startard for authentication and authorization exchange between parties (SSO + authorization sharing between services)
  - works with an identity provider
Oauth: authorization delegation
openid: built on top of oauth2
kerboros: supports impersonation
xacml: extensive data driven authorization flow (can x see data #123)

***** default

SAML: in many cases people uses oauth where they should have used SAML

***** oauth

Main scenario:
  allow users to delegate rights from one app to anothe app

User -> A: Uses
User -> B: Uses

User -> A: connect to B
A -> B: ask to be granted permissions for User to B
B -> User: ask to confirm
B <- User: ok
A <- B: ok: token ID


***** impersonation

transfer credentials or token propagated 

***** trust

transfer identify in data only accepted by trusted systems


***** example:

@startuml

component user
component webserver
component svc1
component svc2
component svc3


user -> webserver
webserver -> svc1
webserver -> svc2
webserver -> svc3


***** example 2

using oauth flows

component human
component game
component facebook


resource owner
resource server
client
 - Active Directory
 - SAML
 - XACML
 - ACL
 - Delegation: OAuth
 - OpenID

***** Active Directory Lightweight Directory Services:
	 - https://msdn.microsoft.com/en-us/library/aa705886(v=vs.85).aspx 
	 - https://technet.microsoft.com/en-us/library/cc754361(v=ws.10).aspx
***** Some alternatives:
 - https://www.axiomatics.com/
 - http://www.viewds.com/
 - http://incubator.apache.org/projects/openaz.html
 - (and others, mostly XACML-based
 
 AzMan and company:
 - https://msdn.microsoft.com/en-us/library/bb897401.aspx?f=255&MSPPError=-2147217396
 - https://netsqlazman.codeplex.com/

*** Data management
**** ORM vs no ORM: http://martinfowler.com/bliki/OrmHate.html
**** ORM annotations: http://www.yegor256.com/2014/12/01/orm-offensive-anti-pattern.html
     
** Documentation 
- architecture sketches C4: https://www.voxxed.com/blog/2014/10/simple-sketches-for-diagramming-your-software-architecture/
** Practices
- [[http://www.dtelepathy.com/blog/business/ship-faster-stop-everything-design][Design spikes]]

* Architecture Katas
** Architect role
*** [[/cygdrive/c/Users/bjoly/repos/notebook/files/softwaredev/whoNeedsArchitect.pdf][Martin Fowler - Who needs an architect?]]
** consulting aspect
- important to involve everyone so that we are not the bridge between technical and business
- let everyone know that it will feel that 1/2 is irrelevant
- when: 3rd day morning
- start to present the top categories
- go down one by one in details
- capture the relative importance of the NFRs 
- how do we test this?
- sometimes only input, but not a requirement
- capture follow-up points in the mindmap
- if UX on the inception, do NFRs after so that usability is not endless
** Recruiting App Assignment
*** Requirements / Context
**** Roles:
	- Recruiter
	- Candidate
	- Evaluator
	- Assigner (assign manually exercise to be corrected to evaluator)
	- template authors 
	- template approvers

**** Expected functionalities:
	- Evaluation must be stored with all relevant information.
		○ Evaluation summary is visible to the recruiter.
		○ Detailed evaluation must not be visible to the recruiter, only to the evaluator and assigner.
	- Find an exercise from candidate name.
	- Exercise must be accessible to an URL. 
		○ Ideally two URLs: one which point to the exercise activity, another one which point to the exercise content. 
	- Candidate must directly interact with the tool to:
		○ Receive the email sent by the tool on the behalf of the recruiter.
		○ Submit their coding exercise.
	- The system must sent e-mail to each role at different step.

**** The tool will integrate with:
	- An email system (Exchange).
	- SaleForce, used by the sale team.
		○ Provide the original requirement (aka the "Req").
	- A SharePoint site used by the recruitment team.


**** Out of scope:
	- Reporting
	- Mobility

    
** difficult / resistance
*** old deployment script to be migrated to something now
**** context
***** resistance by the devops team
***** business wants more efficiency
**** approach
***** raise awareness to anticipate resistance and negativity
****** with any change, comes challenges (politically correct way to raise awareness)
****** it is a organizational change for devops
***** go with a pilot with the best, skilled candidates
***** DM and PM needs to be involved and probably present
***** change management is the role of the PM, but we may have to do it
      
** estimation
*** make sure stories and epics cover all the scope
*** required:
**** backlog
***** MVP identified
***** all epics identified
***** subset of stories defined
****** at least 3 sprints
****** a few of each "repeat" stories
****** sample epics exploded (small / medium / large)
***** full traceability and coverage of epics / stories with what to do
****** appropriate NFRs stories / tech stories that are not covevered
**** arch handbook
**** NFRs
***** NFRs breakdown done before
****** requirements
******* in scope
******* verifiable
******** tests and reviews
****** inspiration
******* aim for it
******* not verified
****** out of scope
**** WoW
***** DoD
** Architecture Handbook
*** Introduction	
**** Document Purpose and Scope	
**** Target Audience	
**** Glossary	
*** Architecture Context	
**** Vision	
**** Architecture Objectives	
**** Assumptions	
**** Key Scenarios	
**** Existing Architecture	
*** System Overview	
**** High Level Architecture	
**** Principal Components	
**** Tiers and Layers	
**** Technology Stack	
**** Physical Architecture	
*** Integration Points	
**** <For each integration point>	
***** Description	
***** Technologies	
***** Usage Constraints	
***** Testing Approach	
***** Evolution Roadmap and Dependency Management	
*** Software Design	
**** Key Patterns	
     * key design patterns
     * one paragraph for everything with links to wikipedia
     * exclusions or specific cases
     * application specific patterns
**** Domain Model	
     DEADLINE: <2016-11-11 Fri> SCHEDULED: <2016-11-09 Wed>
     * high level business domain model (BOM)
     * This is not a database model
     * color coding entities that changes, but not listing all the changes
     * try to defer coding standards to construction using an example project
***** BACKLOG produce a domain model for the recruiting problem
  component JobTemplate as jt {
    - position
    - level
    - clientorg
    - job description
    - is active
    - coding exercises
  }

  component JobRequisition as jr
  component CandidateApplication as ca
  component Candidate as c
  component CodeExercise as ce
  component CodeingExerciseTemplate as cet

  jr -> jt: 0..* to 0..1
  ca -> jr: 0..* to 1
  ca -> c: 1..* to 1
  ca -> ce: 0..* to 0..1
  c -> ce: 1 to 0..*
  ce -> cet: 0..* to 1
  jt -> cet: 0..* to 0..*

***** BACKLOG find a name for a base class sharing attributes between a template and the instance
  RequisitionDefinition -> ReqInstance
  RequisitionDefinition -> ReqTemplate
  RequisitionSpecifications

**** Dynamic Models	
     * behavior diagrams of key processes
     * sequence, workflows, activity
     * subsections for each process
**** Cross-Cutting Concerns	
***** Exception Handling	
  - top level exception handler
  - unchecked vs checked
  - human translation of exception 
  - short

***** Logging	
  - what is logged
  - where it is logged
  - business log, system log, development log
  - how it is going to be logged (AOP, context data, libraries)
  - keep architecture. ex: log level, if they care, ok, otherwise dont
  - configurable or not
  - log rotation or not
  - if important, what happens when you cant log
  - archiving
  - web analytics

***** Input Validation	
  - how to apply input validation
  - jsr303
  - frameworks
  - how it is propagated to the UI
  - how it is translated
  - what happens when it fail
  - pre-validate on ui
  - input file validation

***** State Management	
  - Session state
  - statefull vs stateless
  - system transaction
  - persistent cookies
  - state on UI vs on server

***** Caching	
  - how is caching done
  - external cache (redis, memcached)
  - what we store (high level strategy)
  - in memory caching
  - reference data
  - HTTP caching cache-control
  - ORM L1/L2 cache (high level if this is a concern)

***** Configuration	
  - how is it configurable
  - dynamic or static?
  - how to change it
    - configuration UI
  - configuration service
  - framework
  - central vs local
  - transformation (prod, dev, etc..)
  - default properties with overide files?
  - jndi?

**** Special Scenarios	
  - anything else??
  - service discovery
  - licensing
  - transaction things
  - data mapper (including ORM)

*** Security	
    answers security related RFRs
**** Authentication	
- authentication protocols
- method of auth
- SSO / AD
- where will the data be stored
**** Authorization	
- general approach: RBAC, operation based, etc..
- technical implementation, where is it stored
**** Data Protection	
- data encryption / sign, in movement and at rest
- log filtering
- network
**** Non-repudiation	
- safe logging
*** Construction Concerns	
**** Code Quality	
**** Source Control Strategy	
***** what sw tool we use
***** where it is
***** if tek hosted, what does the client get at the end: the repo or only the end result
****** if tfs: need to be on its own collection
****** remote branching with reconstitution on the client side
***** if the customer does not want source control
****** convince the customer
****** try to get local git or mercurial
***** if system is slow
****** if remote server is svn
******* could use git-svn: complexity is higher, and 
******* filtered dump / restored
******* probably 3pp to do multi-master sync if needed
****** if has an impact to velocity
******* highlight
******* no unpaid overtime to hide the issue
***** if customer contribution 
****** define who's responsible to fix when HEAD breaks
****** isolate tek with a branch
******* how often we merge, highlight overhead
***** branching strategy
****** branch for release with feature branch overlay
******* trunk -> new development
******* branch for each release when you are code complete
******* feature branch overlay (topic branch)
******** enable us to avoid delaying release
******** could be used for fix branch
****** parallel work
******* trunk is the one that gets released first
******* the other team works on a separate team branch
****** when can you merge feature branch to trunk
******* code complete
******** compile
******** tests run
******** sonar
******* deskchecked
******** if deskcheck does not pass, we dont want to revert code
******* code reviewed
******** at least peer review before merge
******** formal review by architect or lead after
******* When to merge
******** close to end of sprint
******** make sure it will work and QA will have time to tests
******** if you less than x days, evaluate with the team, we may decide to push later
****** release branch
******* created by the architect or lead (but one assigned)
******* final branch
***** how is git flow different than our default strategy 
****** fix branch happens from master
****** labelling happens on master
****** the integration branch is develop, not master
****** feature branch is off develop
****** release branch out of develop
****** cons
******* tagging is applied on master
******* merge to stable is a potential new releases since the release promotion is about the artifact, not the source and this patterm makes the source differ from what build was promoted
******* 1 release in production at the same time (limitation)
**** Data Store Construction	
***** Seed
****** types of seeds
******* Production anonymized (prefered)
******* Production subset anon (second prefered)
******** random selection of rows
******* Generated (increase risks to deploy to production)
******* Empty (riskiest)
****** generate seeds
******* different seeds per environment
******* generate often, as often as every sprint
******* we should receive the anonymized data idealy and not the real production data
******** we can create the script to anonymize
****** deployment
******* each dev
******* Integration
******* QA
**** Build Strategy	
***** frequency
****** pre/post commit
******* git fetch/pull
******* rebuild
******* package and deploy on artifactory
****** nightly
******* fresh clone / workspace build
***** build flow
|------------------------+---------------------------------------|
| commit build           | nightly                               |
|------------------------+---------------------------------------|
| build, verify Quality, | publish, run integration tests,       |
| create package         | run performance tests, security tests |
|------------------------+---------------------------------------|

****** in the nightly
build -> store in architactory -> deploy -> int tests (each steps)
******* int tests
- each test is flagged with dev/qa/uat/staging/prod

***** different ways
****** post commit (or gated commit)
******* keep the team efficient
******* should not take more than 5 minutes
******* could we revert failures automaticaly
****** gated commit
******* could use tagging instead of gated commit
******* done on the integration branch
******* not executed on dev private branch
******* done on the server
******* tools
******** this is exactly like gerrit /for/master where you run sonar and others
******** monitor PR from stash
******* why?
******** development skills junior. we anticipate problems
******** observed frequency of problems
********* no impact to the team
******** devs cannot check everything on their own (but they should)
******** size of the team
******* cons
******** pilling up
******** server workload
******** merge delayed = more conflicts
******** de-responsibilize team members
***** Better approach
****** Do post commit validation
****** with automatic revert on failure to validate
******* maybe can let the user to fix within 5 minutes
******* give build agent tagging and commit permission
****** more visibility from everyone
****** one pipeline for all environments
**** Deployment Approach	
***** control
****** in control: dev (integration), qa, and uat
****** out of control: staging and production
***** frequency
****** dev: 
******* this is where the longer build (int tests). automated
******* usually daily
******* must be automated
****** qa: 
******* qa decides
******* could be automated
******* could be same as longer build
******* must be automated
****** uat:
******* end of every sprint
****** staging
******* starting at mid point
******* more frequent as you get closer to the end: frequency cut in half after every deployment.
****** production
******* out of control
******* once for each release
***** other concerns
****** to be discussed at inception
****** what needs automation
******* we need to use the exact same tool during the development
****** what needs documentation
****** pipeline
******* in restore seed in all environments except staging and prod
******* backup db in staging and prod
****** deployment configuration
******* could be in source control for in control env
******** may be an issue since staging and prod are left out
****** tools
******* if not ideal tools. ask if they are happy with it
******* if no tools, come up with a proposal
******** immature team: ui, easy adoption
********* chef and puppet not right
********* TODO better fit: octopus
******* TODO find a deployment tool that is easy / great for introduction in java
**** Test Strategy	
***** overall test strategy owned by QA (not our responsibility)
****** test plan
****** test strategy
***** we are responsible for unit testing
****** frameworks
****** coverage framework
****** unit test db (not frequent)
******* stored procedures
******* constraints
******* 
***** integration test at our discretion if they did not purchase automated QA
****** useful for db integration test if you have stored procedures or similar or you want to test queries
***** refer to the QA plan (if not created, refer to an upcoming document to be created early in creation phase)
***** effect of engagement models
****** team model, staffing: they have the choice to not do unit tests
******* we should highlight the risk and cost to quality
******* this needs to be stored in the projectlog (PM) in smp sharepoint site
****** project model: TEK is in control of the process: we decide how we work
***** simulators
****** why
******* if you cannot get the environment for cost, practicality, licensing
******* the service is not ready
******* faster execution
****** cons
******* not fully accurate
******* cannot test everything
****** how to write your own
******* always return the same thing
******* some sort of storage
******* inject behavior just before calling the simulator
****** mocking
******* in process simulation
******* inject mock
******* danger of leaking into the production code base
****** out of  qq1process sim
******* wiremock
******* mountebank
******* soapUI
**** Environment Descriptions	
***** Development	
****** development machine
****** should have all the pieces deployed. mention if it is different
***** Integration	
****** server addresses
****** how it differs from standard
***** QA	
***** UAT	
***** Production	
*** Architecture Fitness for Purpose	
**** Coverage of Non-Functional Requirements	
***** only a recap of 2-3 most critical nfrs and how they get satisfied
**** Functional Considerations	
**** Business Considerations	
**** Technical Risks	
***** how it impacts the team
***** how it impacts the product
***** potential risks
****** efficiency of environments (VM, networks, jenkins)
****** tooling
****** integration points
****** performance from depends not as expected
****** api changes needed
*** Transition Concerns	
**** Production Transition Strategy	
***** customer must put in production (need to be documented)
****** if customer wants us to put in production, need insurance, need contract. need practice involvment
***** approach
****** offline -> upgrade -> online
****** database migration
**** Solution Ownership Transition	
*** Bibliography	

** NFRs
*** TEK Quality Management
**** functional suitability
  - start with this one
  - confirm the functional is common understanding
  - do you feel comfortable with the process so far
  - are you thinking you will get what you need?

**** performance

***** resource utilization

 - impact on user / resource 
 - hardware resource

***** capacity

 - user base

**** compatibility

***** co-existence

 - os
 - browsers
 - platforms
 - validate if we need to tests everything?
   - ex: chrome on windows or chrome on MacOS

***** interoperability

 - capture integration points and all the info as required in the handbook
 - browser

**** usability

***** appropriateness recognizability

 - if they have conventions

***** learnability

 - online help
 - user guide
 - training
 - ops / troubleshooting guide

***** operability

 - undo?
 - logging

***** user error protection

 - soft delete
 - undo
 - validation
 - confirmation
 - deferred actions
 - how much work they can do before work
 - sudo vs root 

***** user interface aesthetics

 - guidelines

***** accessibility

 - disability
 - color blind
 - screen reader
 - different requirements per devices
 - globalization
   - how to treat this
   - do we force US or assume?
   - timezone how to deal with this

***** localization

**** reliability

***** maturity

 - libraries we bring. how does this affect maturity

**** security


 PGP intro
 PubKey crypto from redhat
 HMAC drdobbs
 DH: The paint video
 DH: Wikipedia
 DH: Wolfram: mathy, but not too badly
 DH: A nice, simple explanation on StackExchange
 DH: The Crypto 101 presentation deck
 OWASP publications

**** regulatory compliance

 after all of this is done,
 is there any regulations we have not talked about and we need to comply?

*** Quality management ISO-25010

**** Performance efficiency

Define the targets for the following metrics under specified workload with proper geographical and user distribution in terms of #users, #requests for the different services, think time, data volume.

- response time: microservice, end-to-end
- resource usage: CPU, Memory, Disk, Network, I/O
- capacity: The maximum supported workload that system can afford while meeting the specified response time and resource usage.


**** security

The degree to which a product or system protects information and data so that persons or other products or systems have the degree of data access appropriate to their types and levels of authorization. The processes and methodologies involved with keeping information confidential, available, while assuring its integrity.

- confidentiality: Measures undertaken to ensure confidentiality are designed to prevent sensitive or private information from reaching inappropriate persons or systems, while ensuring that the authorized persons and system do have the appropriate degree of access to the same data.
- data availability: The system may have critical information required for business continuity. System implementations and efforts are required to make this information available at all time as part of the security measures. Business continuity planning and disaster recovery planning are other facets of information systems security.  Plans are required mitigate major business disruptions.
- integrity: Integrity relates to maintaining the consistency, accuracy, and trustworthiness of data over its entire life cycle. Data must not be changed in transit, and steps must be taken to ensure that data cannot be altered by unauthorized people (eg. From a breach of confidentiality). 
- non-repudiation & accountability: Non-repudiation is the degree to which actions or events can be proven to have taken place, so that the events or actions cannot be repudiated later. Accountability is the degree to which the actions of an entity can be traced uniquely to the entity.
- authenticity: Degree to which the identity of a subject or resource can be proved to be the one claimed.

**** Usability

**** mainainability

- modularity
- reusability
- analysability
- modifiability
- testability


**** reliability

- availability
- frequency of failure
- fault tolerance
- maturity
- Recoverability

**** functional

- functional completeness
- functional correctness
- functional appropiateness

*** Thinking of Non-Functional Requirements as Taxes on the team
Hi Martin,

Here in the U.S., we're in the midst of tax season. Our annual income taxes must be paid no later than April 18 this year. While thinking about--or gulp! actually paying taxes is not very fun, it does provide a useful example of how to think about nonfunctional requirements on agile software development projects.

A nonfunctional requirement is a requirement about how the system exists in the world, rather than about something users can do with that system.

Nonfunctional requirements are often about performance, capacity, maintainability, localizability, interoperability, usability, portability and so on. Because so many of these end with -ility, they are often called the -ilities of a system.

As an example, a system might have a requirement to work in English, French, German and Spanish.

If the development team speaks English, that version will be the one developed first. And the team will have a nonfunctional requirement to make the system work in French, German and Spanish.

Whether this is thought of as one requirement for three additional languages or three requirements for one additional language each will not matter for my point in this tip.

The effort to produce these translated versions of the product can be thought of as a tax on the development team’s performance. Consider whatever speed the team was going at before. They will now go a little slower due to the need to produce those translations.

It doesn’t matter whether the translations happen in the sprint, a sprint behind or whenever. In the grand scheme, the team is going slower by the amount of effort it takes to produce the translations. That is, they are slower by the amount they are taxed.

The amount of these taxes can become quite significant over time: Work on the three last releases of three browsers. That’s a tax. Work on the three latest Windows releases. That’s a tax. Perform at this level. That’s a tax. Future scalability to that number of users. That’s a tax.

I hope that through this metaphor about the costs of nonfunctional requirements, you can use it to think through the value of including each on your project.

And that will help you succeed with agile,

Mike
** Katas Sessions
*** 2016/10/14 - exception handling #

**** try/catch

when:

- you can do something about it
- to map to outside domain boundary
- top level try/catch
	- log
	- map
	- notify
	- decide to crash/restart or not
	
not for:

- to control flow
- for every method

****  content of boundary exception

- whose fault it is
- impact on the original request
- reason
- what to do
- id of the exception instance: could compromise stability of system

- !! is this something the customer decides? is this something we have aligned?

 
**** authorization errors

- when accessing a not authorized resource, return not found

**** authorization

UI for springsecurity: http://lightadmin.org/

- member of a group
- by named permissions
- specific context
	- ACL
	- Custom code
	- Attribute based auth, policy based auth
	
- standards:
	- authentication: oauth (user -> machine role delegation), openid, saml
	- authorization: saml, xacml
	- xacml
		- axiomatics+++ expensive but great integration
		- viewds (not so great)

- java lightweight approach
	- springsecurity + lightadmin

**** integration points
- Can group things
- favor tables / condensed format
- we never show and care about how an integration does it's work

***** Description

- why we need it
- why we have selected it
- need the API documentation with promised NFRs (no need for complete architecture)
    - highlight any concerns about the documentation
- who is responsible for this system. (a name, who owns the architecture key)

***** Technologies

- from a system perspective (key part):
    - API type
    - version of API
    - https
    - oauth
- from a software (more technology stack, but nice to have)
    - Facebook .net client

***** usage constraints

- anything that affect how you use it
    - volume of transactions
    - batching
    - maintenance window
    - delay before usage
    - production vs development
    - certification
    - review credentials every x months

***** testing approach

- how are we going to test the integration
- approaches:
    1. the real thing deployed for each of our deployment (preferred)
    2. ask the client to provide something else
    3. 

***** evolution roadmap

- internal system
    - describe who will create the API and how it is going to be reviewed / agreed
    - need clear definition of ready
    - need clear definition of done
    - API documents (swagger)
- 3pp
    - less control
    - how does business wants to deal with changes? postpone dev? fix when problems appends?


???? whould we test the e2e vs integration test with the server

*** 2016/10/14 - HSM / SSM

Why it is not so frequent:

- cost
- nfr, not a focus
- danger of issues

*** 2016/10/12 - Security concepts

main concerts of application security:

- data protection
  - on the wire:
    - encrypt with ssl
    - enable perfect forward encryption
  - at rest
    - encrypt disk
    - encrypt ram / swap
    - use of HSM
    - sign some data at rest
      - database data is signed by a key not accessible by the DBA
      - configuration files
- non-repudiation

- access control
- process integrity
*** 2016/10/12 - Service architecture

SOA: SOA is enterprise architecture and integrate service together
Micro-services: is software architecture. Could implements one service in a SOA architecture

pros to micro-services:

- scaling part of application differently (efficiently) main reason
- availability
- flexibility in deployment
- more manageable pieces
- stateless is better followed by devs, but can be achieved in a SOA architecture 

cons

- deployment more complex
- ops job harder
- cost more up-front

**** SOA

Enterprise architecture pattern

- interface governance
- alignment between services
- a service fulfill a business function
- does not have to be all machine, could be human

**** Micro-services

Software architecture pattern

Advantages:

- flexibility scalability (cost saving)
- language polyglot
- risk management: critical process vs non-critical. (isolation)
- governance

**** experience notes

- EAG sold me a tool, not an architecture. This is why there was so much resistance

*** exception handling

**** try/catch

when:

- you can do something about it
- to map to outside domain boundary
- top level try/catch
	- log
	- map
	- notify
	- decide to crash/restart or not
	
not for:

- to control flow
- for every method

**** content of boundary exception

- whose fault it is
- impact on the original request
- reason
- what to do
- id of the exception instance: could compromise stability of system

- !! is this something the customer decides? is this something we have aligned?

 
**** authorization errors

- when accessing a not authorized resource, return not found


**** authorization

UI for springsecurity: http://lightadmin.org/

- member of a group
- by named permissions
- specific context
	- ACL
	- Custom code
	- Attribute based auth, policy based auth
	
- standards:
	- authentication: oauth (user -> machine role delegation), openid, saml
	- authorization: saml, xacml
	- xacml
		- axiomatics+++ expensive but great integration
		- viewds (not so great)

- java lightweight approach
	- springsecurity + lightadmin

*** integration points

- Can group things
- favor tables / condensed format
- we never show and care about how an integration does it's work

**** Description

- why we need it
- why we have selected it
- need the API documentation with promised NFRs (no need for complete architecture)
    - highlight any concerns about the documentation
- who is responsible for this system. (a name, who owns the architecture key)

**** Technologies

- from a system perspective (key part):
    - API type
    - version of API
    - https
    - oauth
- from a software (more technology stack, but nice to have)
    - Facebook .net client

**** usage constraints

- anything that affect how you use it
    - volume of transactions
    - batching
    - maintenance window
    - delay before usage
    - production vs development
    - certification
    - review credentials every x months

**** testing approach

- how are we going to test the integration
- approaches:
    1. the real thing deployed for each of our deployment (preferred)
    2. ask the client to provide something else
    3. 

**** evolution roadmap

- internal system
    - describe who will create the API and how it is going to be reviewed / agreed
    - need clear definition of ready
    - need clear definition of done
    - API documents (swagger)
- 3pp
    - less control
    - how does business wants to deal with changes? postpone dev? fix when problems appends?


???? whould we test the e2e vs integration test with the server

** Architecture discussions
*** Security
**** Process integrity
***** data injection
- escape right before you use
****** SQL injection
- escaping
- sanatization (!not a good solution)
- use whitelisting
****** HTML
  - escape at rendering because rendering method / technology can change
  - escape uri before json
  - put uri in specific types
***** buffer overflow
***** number overflow
***** replay attack
**** configuration
***** what could happens
****** default passwords on infrastructure
******* prevent with safety tests that prevent the applications
******** smoke test suite
******** or in the code if it is a requirement
******** security test suite
****** misconfigured by default
****** mistakes
****** dev config gets into production
****** self signed certificates
****** developing http instead of https
****** back doors
***** prevent
****** use test tools
****** never dev under unsecure configuration
****** never create buggy config / unsecure configuration
**** cross site forgery
***** use anti-forgery tokens
***** always use unmutation ops in GET
**** 
** convincing / decision making
*** customer
**** approaches
***** general
****** tell them you captured what was discussed with them. (ie: it is comming from them)
***** workshop ++
***** presentation +
***** document
**** options pros/cons
| Concerns / Criteria | Lambda                | Container-hosted |
|---------------------+-----------------------+------------------|
|                     | /rank 1 to 3 or 1 to 5/ |                  |

* Coding practices
** code quality - how to improve team quality production
*** static analysis
| Type         | tools          |
|--------------+----------------|
| Style        | Checkstyle     |
| Correctness  | Findbugs, PMD  |
| Architecture | Sonar          |
| Duplication  | PMD/CPD, Sonar |

** code quality - cleancode

clean code manifesto: [http://manifesto.softwarecraftsmanship.org/]

*** code quality
	-- there are no compiler warnings. only error or invisible
	-- 1 hour every 2 day for project annoyance
	- Feature branch is bad: http://martinfowler.com/bliki/FeatureBranch.html
*** stories
	-- bad merge? curly brace error: http://www.dwheeler.com/essays/apple-goto-fail.html
	-- 16bits vs 32bits: http://itsfoss.com/a-floating-point-error-that-caused-a-damage-worth-half-a-billion/
	-- bad deployment: https://dougseven.com/2014/04/17/knightmare-a-devops-cautionary-tale/
	-- Testivus: http://pantras.free.fr/articles/testivus.html)

*** clean code best practices
**** naming
***** class 
ref: http://stackoverflow.com/questions/1866794/naming-classes-how-to-avoid-calling-everything-a-whatevermanager
****** DO:
  	   - Shepherd
       - Bucket/Pool
       - Repository
       - Superviser
       - Coordinator
       - Builder
       - Writer
       - Reader
       - Handler
       - Container
       - Protocol
       - Target
       - Converter
       - Controller
       - View
       - Factory
       - Entity
****** Dont: 
       - Service
       - manager
       - Helper
       - Utility
       - Object


**** naming
***** class
	- DO: 
		- Shepherd
		- Bucket/Pool
		- Repository
		- Superviser
		- Coordinator
		- Builder
		- Writer
		- Reader
		- Handler
		- Container
		- Protocol
		- Target
		- Converter
		- Controller
		- View
		- Factory
		- Entity
	- Dont: Service, manager, Helper, Utility, Object

ref: http://stackoverflow.com/questions/1866794/naming-classes-how-to-avoid-calling-everything-a-whatevermanager

** Testing
*** the way of the Testivus

- If you write code, write tests.
- Don’t get stuck on unit testing dogma.
- Embrace unit testing karma.
- Think of code and test as one.
- The test is more important than the unit.
- The best time to test is when the code is fresh.
- Tests not run waste away.
- An imperfect test today is better than a perfect test someday.
- An ugly test is better than no test.
- Sometimes, the test justifies the means.
- Only fools use no tools.
- Good tests fail.

*** Testivus on Test Coverage

Early one morning, a programmer asked the great master:

“I am ready to write some unit tests. What code coverage should I aim for?”
The great master replied:

“Don’t worry about coverage, just write some good tests.”
The programmer smiled, bowed, and left.

...

Later that day, a second programmer asked the same question.

The great master pointed at a pot of boiling water and said:

“How many grains of rice should put in that pot?”
The programmer, looking puzzled, replied:

“How can I possibly tell you? It depends on how many people you need to feed, how hungry they are, what other food you are serving, how much rice you have available, and so on.”
“Exactly,” said the great master.

The second programmer smiled, bowed, and left.

...

Toward the end of the day, a third programmer came and asked the same question about code coverage.

“Eighty percent and no less!” Replied the master in a stern voice, pounding his fist on the table.
The third programmer smiled, bowed, and left.

...

After this last reply, a young apprentice approached the great master:

“Great master, today I overheard you answer the same question about code coverage with three different answers. Why?”
The great master stood up from his chair:

“Come get some fresh tea with me and let’s talk about it.”
After they filled their cups with smoking hot green tea, the great master began to answer:

“The first programmer is new and just getting started with testing. Right now he has a lot of code and no tests. He has a long way to go; focusing on code coverage at this time would be depressing and quite useless. He’s better off just getting used to writing and running some tests. He can worry about coverage later.”

“The second programmer, on the other hand, is quite experience both at programming and testing. When I replied by asking her how many grains of rice I should put in a pot, I helped her realize that the amount of testing necessary depends on a number of factors, and she knows those factors better than I do – it’s her code after all. There is no single, simple, answer, and she’s smart enough to handle the truth and work with that.”

“I see,” said the young apprentice, “but if there is no single simple answer, then why did you answer the third programmer ‘Eighty percent and no less’?”

The great master laughed so hard and loud that his belly, evidence that he drank more than just green tea, flopped up and down.

“The third programmer wants only simple answers – even when there are no simple answers … and then does not follow them anyway.”
The young apprentice and the grizzled great master finished drinking their tea in contemplative silence.

** Bad code
*** example 1

#+BEGIN_SRC java
private static int INITIAL = 1;
private static int THING1 = 2;
private static int THING2 = 3;
private static int THING3 = 4;

void next(int state) {
	switch (state) {
	case INITIAL:
	doThing1();
	break;
	case THING1:
	doThing2();
	break;
	case THING2:
	doThing3();
	break;
	case THING3:
	// do nothing -- exit
	break;
	}
}

void doThing1() {
	// Do "thing 1"
	next(THING1);
}

void doThing2() {
	// Do "thing 2"
	next(THING2);
}

void doThing3() {
	// Do "thing 3"
	next(THING3);
}
#+END_SRC

*** example 2

#+BEGIN_SRC java
Session session = Session.getDefaultInstance(props, null);
if (debug)
	session.setDebug(true);
#+END_SRC

*** example 3

#+BEGIN_SRC java
BufferedReader reader = new BufferedReader( new FileReader (file));
String line = null;
String text = "";

while( ( line = reader.readLine() ) != null ) {
    text = text + line;
}
#+END_SRC

*** example 4

#+BEGIN_SRC java
package mrpd.mrr;

/**
 * This class creates a data base connection using JDBC driver.
 * The created connection will be used and re-used subsequently
 * in different classes of the MRR application.
 *
 * The "Singleton pattern" is used to create a static object 
 * and return a reference upon request
 *
 * Creation date: (2/22/2001 10:15:04 AM)
 * @author: XXXX XXXX
*/

import java.sql.*;
import java.util.*;

public class DBConnection  {

	private static DBConnection dbCon = new DBConnection();
	private static String errCode="0000";
	private Connection connection;

private DBConnection() {

	 /**This is the constructor of class of DBConnection.
	  *The function is to make a database connection.
	  *
	  *Define local variables 	
	  */

	String sDriver, sPassword, sUserID, sURL;

	//Specify Driver name, user ID and password 
	String driver = "COM.ibm.db2.jdbc.app.DB2Driver";
	String userid = "mrpd1";
	String password = "XXXXXXX";

	//specify database URL
	String url=null;
	url	= "jdbc:db2:mrpddb";  //MRPDDB on production
 //	url = "jdbc:db2:DEV"; // local development instance
 //	url	= "jdbc:db2:dhoneds"; //XXXX's local alias to MRPDDB on dhoneds
	System.out.println("Using database: " + url);	

	//Attempt to load the JDBC driver with newInstance
	try {
		Class.forName(driver).newInstance();
	} catch (Exception e) {
		System.err.println("Failed to load current driver.");
		errCode = "8301";
		return;
	}

	//Attempt to connect to the database
	try {
		connection = DriverManager.getConnection(url, userid, password);
		System.out.println("\n\tConnection to "+url+" successful\n");
	} catch (SQLException SQLe) {
		System.err.println("problems connecting to " + url + ":");
		System.err.println(SQLe.getMessage());
		System.err.println("SQL State: " + SQLe.getSQLState());
		if (connection != null) {
			try {
				connection.close();
			} catch (Exception e) {
			}
		}
		errCode = "8302";
		return;
	}
 }
 public static Connection getConnection() {	
	return dbCon.connection;
 }
 public static String getErrorCode() {	
	return errCode;
 }
 }
#+END_SRC

* Tools and libraries
** *Trends*
*** google trend https://www.google.com/trends/explore#q=plantuml
*** https://www.thoughtworks.com/

** Test Tools
*** Customer tests
**** DONE JBehave
**** DONE Cucumber
**** BACKLOG Fit: customer test scripted framework. now part of a suite of tools. (http://fit.c2.com)
**** BACKLOG FitNesse: fit test authoring tool in wiki-like form
*** Web Services
**** DONE Mountebank
**** BACKLOG [[http://jsonplaceholder.typicode.com/][REST Stub]]
**** BACKLOG FitNesse Arquillian
**** BACKLOG Wiremock
**** BACKLOG HttpUnit: junit addon to enable tests using http (http://httpunit.sf.net)
**** BACKLOG JFCUnit: extension to HttpUnit with many high level language utility methods. not suitable for javascript apps
*** Recorded tests
**** BACKLOG BPT Mercury/HP
**** BACKLOG eCATT: test recorderi for SAP products. (found on http://sap.com and https://wiki.scn.sap.com/wiki/display/ABAP/eCATT)
**** BACKLOG QTP: commercial recorded test framework
*** Data driven tests
**** BACKLOG DDSteps: junit data driven extension. Build data driven test cases (http://ddsteps.sourceforge.net/)
     Data flow is: setup with DbUnit to database, invoke service with Selenium and MockWebServer, verify with spring
*** Mocking
**** DONE mockito
**** DONE Param/Nested runners: https://github.com/NitorCreations/CoreComponents/tree/master/junit-runners
**** BACKLOG EasyMock: static mock objects generation. (http://www.easymock.org)
**** BACKLOG JMock: dynamic mocking framework
**** BACKLOG junit runners: https://github.com/junit-team/junit4/wiki/Custom-runners

**** BACKLOG Web service mocking: http://wiremock.org/
*** Simulators
**** DONE wiremock
**** DONE mountebank
**** DONE soapUI
** Text Editor and IDE
**** DONE editorconfig: multi-editor support for whitespaces, indent, formatting.
**** notepad++
**** atom
**** eclipse EE
***** DONE plantuml: http://basar.idi.ntnu.no/svn/tdt4100/anonymous/trunk/updatesite/	
      CLOSED: [2016-12-01 Thu 13:25]
***** BACKLOG http://www.objectaid.net
***** DONE gradle: https://github.com/groovy/groovy-eclipse
      CLOSED: [2016-12-01 Thu 13:25]
** Documentation
*** Diagrams
**** DONE Plantuml
**** TODO blockdiag (nwdiag, blockdiag, seqdiag, actdiag
**** BACKLOG UMLet
**** BACKLOG Graphviz (ditta, rdfdot)
**** BACKLOG Haskell diagrams
**** BACKLOG Mermaid
**** BACKLOG [[http://ascii-world.wikidot.com/ascii-tools][Ascii based tools]] 
**** DONE asciidoctor
**** DONE markdown
**** DONE Pandoc
**** BACKLOG slideshow: reveal.js
**** BACKLOG C4 models: ArchitectureScript
**** BACKLOG balsamiq mockups
**** BACKLOG pencil
**** DONE freeplane
     CLOSED: [2016-12-05 Mon 11:40]
** Media authoring
**** DONE OpenBroadcastingSoftware: https://obsproject.com
**** BACKLOG [[https://asciinema.org][AsciiNema Session rec]]: record terminal sessions
**** BACKLOG screencastify
**** DONE screenshot: greenshot: http://getgreenshot.org/
** Database
*** Versioning
**** BACKLOG Liquibase
**** BACKLOG Flyway
*** Data integration
**** BACKLOG oracle goldengate: Data migration

youtube video: Oracle GoldenGate Fundamentals: How Oracle GoldenGate Works

- supports multivendor Active / Active
- uni
- bi-direct
- peer to peor (lb)
- broadcast
- integration (data warehouse)
- data distribution (messaging)

** Project, tasks management
**** BACKLOG [[https://taiga.io][Taiga]]
**** BACKLOG [[https://taskwarrior.org][Task Warrior]]
**** BACKLOG todo: BACKLOG.txt
**** DONE retro web tool: http://www.retrospected.com/
**** DONE scrum poker: https://www.planningpoker.com
**** BACKLOG tricider collaborative decision making: http://tricider.com
**** BACKLOG stormboard (free for small): http://stormboard.com
**** BACKLOG groupmap $$: http://www.groupmap.com/
**** BACKLOG Padlet
**** BACKLOG teamviz
**** DONE tomighty
     CLOSED: [2016-12-05 Mon 11:43]

** Version Control
*** DONE git flavors
    CLOSED: [2016-12-01 Thu 13:21]
*** BACKLOG git-tfs: https://github.com/git-tfs/git-tfs
*** BACKLOG TFS: https://www.microsoft.com/en-us/download/details.aspx?id=47727

** Build tools
**** DONE gradle
**** DONE maven
**** BACKLOG [[http://tattletale.jboss.org/][tattletale]]
***** jar and classes dependencies analytics
**** BACKLOG Grunt
**** BACKLOG Bower
**** BACKLOG webkit
**** BACKLOG JRebel
**** BACKLOG [[https://github.com/spring-projects/spring-loaded][Spring Loaded]]
** PC Utility tool
*** DONE freecompose
*** DONE Flux brightness adjuster: https://justgetflux.com/
*** DONE Double Commander
*** DONE keepass2 

**** DONE 7zip
**** DONE Double Commander
     CLOSED: [2016-12-05 Mon 11:42]
**** DONE truecrypt. replaced by veracrypt: https://veracrypt.codeplex.com/
https://www.grc.com/misc/truecrypt/truecrypt.htm
**** 
**** filezilla
**** kdiff3

    CLOSED: [2016-12-05 Mon 11:42]
*** DONE launchy
*** DONE filezilla
*** DONE kdiff3
*** DONE rtv: reddit command line tool
*** Ninite: windows multi app custom installer
*** PhraseExpress
*** Breevy
*** SumatraPDF
*** PDF-XChange
*** pidgin
*** potplayer
*** xnviewer
*** google photos desktop uploader or [[http://lifehacker.com/lifehacker-pack-for-windows-our-list-of-the-essential-787533613][Dropbox]]
*** musicbee
*** F.lux: brightness changer
*** CCleaner
*** 7-zip
*** Avira
*** Revo Uninstaller
*** Handbrake
*** Bins
*** Fences
*** MediaMonkey
*** Autohotkey
*** wordgrinder
**** tried but not sure. can do in emacs
*** 
** Virtualization
**** DONE VirtualBox
**** DONE vagrant
**** BACKLOG [[http://blyx.com/2015/12/01/docker-security-tools-audit-and-vulnerability-assessment/][docker security tools]]
 -
** search tools
**** DONE Ag: grep for programmer
**** DONE CTAGS Program indexer: http://ctags.sourceforge.net/[ctags]
**** BACKLOG Ack: grep for programmer http://beyondgrep.com/[ack]
**** BACKLOG IDUtils: Text indexer: http://www.gnu.org/software/idutils/manual/idutils.html[gid]

** difftools
**** DONE kdiff3
**** BACKLOG HELIX P4MERGE: VISUAL MERGE TOOL
**** BACKLOG meld
**** BACKLOG vim diff
** generators
*** http://www.json-generator.com/
** static analysis

**** DONE sonarqube
**** DONE sonarscanner: http://docs.sonarqube.org/display/SCAN/Analyzing+with+SonarQube+Scanner

** Continuous integration
**** DONE jenkins
**** BACKLOG lambci: https://medium.com/@hichaelmart/lambci-4c3e29d6599b#.zcvgh469w
**** BACKLOG gocd
** Frameworks / infra
*** security platforms
**** Active Directory Lightweight Directory Services:
- https://msdn.microsoft.com/en-us/library/aa705886(v=vs.85).aspx 
- https://technet.microsoft.com/en-us/library/cc754361(v=ws.10).aspx
**** Some alternatives:
- https://www.axiomatics.com/
- http://www.viewds.com/
- http://incubator.apache.org/projects/openaz.html
- (and others, mostly XACML-based
AzMan and company:
- https://msdn.microsoft.com/en-us/library/bb897401.aspx?f=255&MSPPError=-2147217396
- https://netsqlazman.codeplex.com/
*** BACKLOG [[http://community.pentaho.com/][pentahoe]]
*** SaaS
**** intercom: https://www.intercom.io/
*** maps: https://openlayers.org/
*** API gateway
**** BACKLOG tyk
**** BACKLOG netflix zuul
**** BACKLOG 3scale
**** BACKLOG wso2
**** BACKLOG apiaxle
**** BACKLOG strongloop
** java libraries


**** BACKLOG com.google.common.collect.ComparisonChain
**** BACKLOG com.google.common.base.Objects.*
**** BACKLOG Lumbok
**** BACKLOG Data Mapper Orika
**** BACKLOG [[https://projectlombok.org/][lombok]] - annotations for boiler data bean, builders, loggtools:  try/finally (<java8):
*** application servers - web servers
**** Web servers: tomcat, netty, getty
**** application Server: jboss AS / wildfly, IBM Websphere, glassfish (obsolete)
**** spring boot: bootstrap a webserver with the application deployment artifact. 
*** web frameworks 
**** JSF: java server faces. java specification to build component based web applications. HTML / Javascript is hidden in components, pages are XML placing components. Rendering done on the object model of the page. Events trigger java methods. 
***** richfaces
***** primefaces
***** icefaces
***** apache myfaces
**** spring MVC: spring model, view, controller framework. multiple view implementation (JSP/JSTL, Thymeleaf, Tiles, Framemarker, Velocity, and more).
**** old
***** JSP: java server pages. dynamic html pages
***** JSTL: tag library for JSP
*** integration platforms (messaging, ESB)
**** apache servicemix
**** JBoss Fuse (enterprise apache servicemix)
**** mule esb
**** IBM has various products like IBM integration bus
*** message queues java messaging service (jms)
**** ActiveMQ
**** RabbitMQ
*** routing
**** apache camel
*** Data
**** facades / standard
***** JPA: java persistence API
***** JTA: java transaction API
***** Spring Data: facade to relational, non-relational, map-reduce data sources
**** mapper
***** Orika data mapper: performant object mapper
***** Hibernate ORM: most used ORM
***** object <-> json mappers 
****** jackson
****** gson
*** language level improvements
**** [[https://projectlombok.org/][lombok:]] annotations for boiler data bean, builders, logging
*** Date/Time
**** joda date time library: date time library used for pre java 8 projects
**** java.time library: date time library for java 8 and +
*** Logging facade
**** slf4j: Simple Logging Facade for Java. this is the library to use as a facade to other logging backend 
**** log4j: obsolete, buggy, eavy. use slf4j
*** DI frameworks
**** spring core
**** java CDI (java standard for DI. not as powerfull as spring)
*** Bean Validation JSR303
**** Hibernate validator
**** BACKLOG joda
**** BACKLOG java8+: java.time
*** Logging
**** DONE slf4j w/ logback
     CLOSED: [2016-12-01 Thu 13:33]
*** Bean Validation
**** BACKLOG (JSR303?): Hibernate validator
*** API Gateway
**** BACKLOG tyk
**** BACKLOG netflix zuul
**** BACKLOG 3scale
**** BACKLOG wso2
**** BACKLOG apiaxle
**** BACKLOG strongloop

*** Security
**** spring security (most used framework for spring apps)
**** JaaS: java authentication and authorization service. (not popular, has limitations)
**** Active Directory Lightweight Directory Services:
- https://msdn.microsoft.com/en-us/library/aa705886(v=vs.85).aspx 
- https://technet.microsoft.com/en-us/library/cc754361(v=ws.10).aspx
**** Some alternatives:
- https://www.axiomatics.com/
- http://www.viewds.com/
- http://incubator.apache.org/projects/openaz.html
- (and others, mostly XACML-based
AzMan and company:
- https://msdn.microsoft.com/en-us/library/bb897401.aspx?f=255&MSPPError=-2147217396
- https://netsqlazman.codeplex.com/
*** rule engines
- Drools rules
- http://www.easyrules.org/
- JSR303 / 349
- http://jlisa.sourceforge.net/
- http://sweetrules.projects.semwebcentral.org/
- hibernate validation
- SpringRuleEngine
- http://www.jessrules.com/docs/71/

**** Drools rules: business driven rules
**** Easy Rules: lightweight rule engine. integrates well with spring. (@SpringRule, @Rule, @Component)
** shell tools
*** shpotify: spotify
*** plianobar: pandora
*** fast: speedtest cmd line
*** cmus: music player
*** youtube-dl
*** instagramsave
*** emoj
*** google translate
*** wikipedia
*** rhymezone
*** wego
*** whereami
*** cmatrix
*** wordnet
*** american heritage dictionary
*** webster 1913
*** hacker-typer
*** Brett Terpstra's searchlink
* Howtos / technical research
** spring
*** how to get started
- make use of spring dependency management: http://platform.spring.io/platform/
- spring bootstrap generator: http://start.spring.io/

** Angular2
startup files: https://github.com/DeborahK/Angular2-GettingStarted

*** architecture

- [scalable angular application architecture|http://blog.mgechev.com/2016/04/10/scalable-javascript-single-page-app-angular2-application-architecture/]
- https://angular.io/docs/ts/latest/guide/architecture.html

*** start a new angular2

- angular-cli
- ng new ....
- ng g component <component>

*** TEK Training

- Part1: https://agci.webex.com/agci/lsr.php?RCID=cbdddf5b3daf40dda7696e4b96af574f
- Part2: https://agci.webex.com/agci/lsr.php?RCID=c416df9533364696b8cdd100fcb765a1
- Part3: 
- Part4: https://agci.webex.com/agci/lsr.php?RCID=9f3c3007eb5047558c9bc9688a7546db
- Part5: https://agci.webex.com/agci/lsr.php?RCID=5d4130a0f8c74c1ca582b7dd10d49d17

*** chcklists

**** Component Checklist

- Class -> Code
- Decorator -> Metadata
- Import what we need

**** Component Checklist: Class

- Clear name
	- Use PascalCasing
	- Append "Component" to the name
- export keyword
- Data in properties
	- Appropriate data type
	- Appropriate default value
	- camelCase with first letter lowercase
- Logic in methods
	- camelCase with first letter lowercase
	
**** Component Checklist: Metadata

- Component decorator
	- Prefix with @; Suffix with ()
- selector: Component name in HTML
	- Prefix for clarity
- template: View's HTML
	- Correct HTML syntax
	
**** Component Checklist: Import

- Defines where to find the members that
- this component needs
-  import keyword
- Member name
	- Correct spelling/casing
- Module path
	- Enclose in quotes
	- Correct spelling/casing
	
**** Template

- Inline template
	- For short templates
	- Specify the templateproperty
	- Use the ES 2015 back ticks for multiple lines
	- Watch syntax
- Linked template
	- For longer templates
	- Specify the templateUrlproperty
	- Define the path to the HTML file
	
**** Component as Directive

1. define "selector" id in component decorator
2. use selector in user's template
3. specify the component in the user's decorator "directives" attribute
4. import the component

**** Interpolation

- One way binding
	- From component class property to an element property.
- Defined with double curly braces
	- Contains a template expression
	- No quote needed
	
**** Structural directives

- *ngIf and *ngFor
	- Prefix with an asterisk
	- Assign to a quoted string expression
- *ngIf
	- Expression is evaluated as a true or false value
- * ngFor
	- Mark the local variable with #
	- Specify 'of': '#product ofproducts'

**** Pipes

- Pipe character: |
- Pipe name
- Piper parameters
	- separated with colons

Example

```
{{ product.price | currency:'USD':true:'1.2-2' }}
```

**** Interfaces

- Defines custom types
-  Creating interfaces:
	- interfacekeyword
	- export it
- Implementing interfaces:
	- implementskeyword & interface name
	- Write code for each property & method
	
**** Encapsulating Styles

- styles property
	- Specify an array of style strings
- styleUrls property
	- Specify an array of stylesheet paths
	
**** Using lifecycle hooks

- Import the lifecycle hook interface
- Implement the lifecycle hook interface
- Write code for the hook method

**** Build custom pipe

- Import Pipe and
- PipeTransform
- Create a class that implements
- PipeTransform
	- exportthe class
- Write code for the Transform method
- Decorate the class with the Pipe decorator

**** Using a custom pipe

- Use the Pipe in the template
	- Pipe character
	- Pipe name
	- Pipe arguments (separated with colons)
- Import the custom pipe
- Add the pipes property to the component's metadata

**** Nested Component

- Input decorator
	- Attached to a property of any type
	- Prefix with @; Suffix with ()
- Output decorator
	- Attached to a property declared as an EventEmitter
	- Use the generic argument to define the event payload type
	- Use the new keyword to create an instance of the EventEmitter
	- Prefix with @; Suffix with ()

**** Container Component

- Use the directive
	- Directive name -> nested component's selector
- Use property binding to pass data to the nested component
- Use event binding to respond to events from the nested component
	- Use $event to access the event payload passed from the nested component

**** Checklist: Creating a Service

- Service class
	- Clear name
	- Use PascalCasing
	- Append "Service" to the name
	- exportkeyword
- Service decorator
	- Use Injectable
	- Prefix with @; Suffix with ()
- Import what we need

**** Checklist: Registering a Service

- Select the appropriate level in the hierarchy
	- Root component if service is used throughout the application
	- Specific component if only that component uses the service
	- Otherwise, common ancestor
- Component metadata
	- Set the providers property
	- Pass in an array
- Import what we need

**** Checklist: Dependency Injection

- Specify the service as a dependency
- Use a constructor parameter
- Service is injected when component is instantiated

**** Http Checklist: Setup

- Include the Angular 2 Http script
- Register HTTP_PROVIDERS
- Import RxJS

**** Http Checklist: Service

- Import what we need
- Define a dependency for the http client service
	- Use a constructor parameter
- Create a method for each http request
- Call the desired http method, such as get
	- Pass in the Url
- Map the Http response to a JSON object
- Add error handling

**** Http Checklist: Subscribing

- Call the subscribe method of the returned observable
- Provide a function to handle an emitted item
	- Normally assigns a property to the returned JSON object
- Provide an error function to handle any returned errors

**** Checklist: Displaying Components 

- Nest-able Components
	- Define a selector
	- Nest in another component
	- No route
- Routed Components
	- No selector
	- Configured route
	- User actions to activate the route

**** Routing Checklist: Setup

- Include the Angular 2 router script
- Define the base element
- Register ROUTER_PROVIDERS

**** Routing Checklist: Configuring Routes 

- path
	- Url path segment for route
- name
	- Route name
	- PascalCase
- component
	- Not string name; not enclosed in quotes
	- Each component must be imported
- useAsDefault

**** Routing Checklist: Tying Routes to Actions
 
- Specify ROUTER_DIRECTIVES in the directives array
- Add the RouterLinkdirective as an attribute
	- Clickable element
	- Enclose in square brackets
- Bind to a link parameters array
	- First element is the route name
	- All other elements are route parameters

**** Routing Checklist: Place the View

- RouterOutlet
- Identifies where to display the routed component's view
- Specified in the host component's template

**** Routing Checklist: Passing Parameters

product-list.component.html
```
<a[routerLink]="['ProductDetail',{id: product.productId}]">
	{{product.productName}}
</a>
```

app.component.ts
```
{ path: '/product/:id', name: 'ProductDetail', component: ProductDetailComponent}
```

product-detail.component.ts
```
import { RouteParams} from 'angular2/router';

constructor(private_routeParams: RouteParams) {
	console.log(this._routeParams.get('id'));
}
```

**** Routing Checklist: Activate a Route with Code
 
- Use the Router service
	- import the service
	- Define it as a dependency
- Create a method that calls the navigate method of the Router service
	- Pass in the link parameters
- Add a user interface element
	- Use event binding to bind to the created method

** AWS
*** products
**** module 1 # 

Important notes:

- cloud computing
	- on demand
	- IT resources
	- Accessible online
	- Pay as you go

region: regional infrastructure hosting AZs

AZ: availability zones. multiple ones in a region. HA + performance

Edge ??: CDN caching static content close to users

**** module 2 #

***** compute product category ##

****** EC2: elastic compute cloud ###
	- can scale up/down
	- basic unit of computing
	- types: general, compute, storage and io, GPU, memory optimized, small
	
AMI: amazon machine image
	- OS
	- templates or custom


	
pricing
	- on demand: by the hour, no commitment
	- reserved: upfront, lower rate 50%-75 from on demand
	- spot: bid for unused EC2 capacity, super cheap. can be interupted
	- dedicated: private hardware, isolated, steady-state

****** autoscaling ###

- auto scale #EC2 instances up/down in an auto scaling group
- ensure they runs x number of EC2. kill and replace unhealthy EC2
- use with Elastic load balancer: load balance and send to healthy EC2
- free to use

****** elastic load balancing (ELB) ###

- distribute load
- fault tolerant
- detect health of EC2s
- remove failing instances
- re-route trafic to healty instances
- spans multiple AZs

- features: HTTP, SSL, TCP
- ssl offloading

***** database ##

RDS: relational
DynamoDB: NoSQL
ElastiCache: caching data

****** amazon relational database service (RDS) ###
- features
  - fully managed
  - fast, predictable performance 1k to 30k IOPS
  - seamless integration

benefits:
	- elastic
	- flexible (sql, mysql, oracle, pgsql
	- secure
	- low cost

***** networking ##

features:
- logically isolated
- private network connections
- HA DNS
- low latency

types of services:
- VPC: virtual private cloud
- Route 53: scalable DNS

****** VPC ###
- ip range
- public/private subnets
- network topologies
- route table and network gw
- controll access using NACLs and security groups
- can use VPN
- attach elastic IP address (internet accessible)
- free to use + charges for hardware VPN in connection-hour

connectivity:
- internet
- corporate data center
- internet and corporate data center
- other VPCs

****** route 53 ###
- powerfull domain management
- low latency
- in/out of AWS
- pay only for:
	-- managed domains
	- number of queries resolved
- ELB integration
- cloudfront zone apex
- s3 zone apex
- AWS management console
	
routing policies:
- latency based routing
- weighted round robin
- dns failover
- geolocation routing
- basic routing

***** Storage ##

- Elastic block store (EBS): persistent block store for use with amazon EC3
- Simple storage service (S3): durable, scalable object store
- Glacier: data storage for archiving and backup
- network filesystem, CDN, and more

****** EBS ###
- like a HD
- 1GB to 16TB
- partitions, format, boot your OS
- multiple volumes on EC2
- for apps: DB, FS, block-level storage

durability and backup:
- automatic replication within its AZ
- snapshot back-up to S3

io provisioning:
- provision based on need
- or select a burstable performance model
- scale to tens of thousands IOPS per EC2

volume types: 
	standard
		- bursty IO requirements (boot volumes)
		- 100 IOPS, burst to hundreds
		- strip multiple volumes
	provisioned IOPS
		- IO intensive workloads (DB)
		- up to 30 IOPS per GB (4000 IOPS on 134 GB)
		- stripe multiple volumes
	General purpose
		- moderate IO workloads (med size DB)
		- steady state of 3 IOPS per GB. burstable to 3K/10K IOPS
		- stripe multiple volumes

****** S3 ###
- store things like a collection of files
	- static website contents
	- backups
	- storage (hadoop cluster for analysis)
- Higher latency than EBS
- easy web file share vs EBS

****** Glacier ###
- best for data not frequently accessed
- take time to retrieve (several hours)
- high durability: 11*9s
- cheap 0.01 per GB/month

****** lifecycle ###
- can setup movement between S3 -> glacier, and glacier -> delete
- timeline based
- event based

***** admin and security ##
IAM: identity and access management
cloudwatch: monitoring, alarms, and monitoring

****** IAM ###
- users, user groups and permissions
- can integrate with corporate access directory

***** analytics ##

redshift: analyse data / big data

- fully managed
- petabyte-scale
- use existing BI tools
- columnar storage (ie: casandra)
- uses data sources: jdbc, odbc, pgsql drivers
- security: encryption, network isolation (fw), audit and compliance
- others: machine learning, hadoop, streaming processing

***** deployment ##

cloudformation: automate deployment

- create templates of resources.


***** module 4 ##

http://aws.amazon.com/architecture/
http://calculator.s3.amazonaws.com/index.html
http://aws.amazon.com/economics/
http://aws.amazon.com/account/
http://status.aws.amazon.com/
http://aws.amazon.com/security/
https://aws.amazon.com/premiumsupport/trustedadvisor/
security compliance certifications: http://aws.amazon.com/compliance/


******################
**** test drive partner: http://aws.amazon.com/partners/testdrive/
**** competency programs: https://aws.amazon.com/partners/competencies/
**** aws marketplace: fast provision of AWS customized apps
**** Ops Checklist: http://media.amazonwebservices.com/AWS_Operational_Checklists.pdf
*** AWS EFS research
**** What is it?


- seamsless integration: connects using NFS4.1 protocol
- auto resize
- Managed services
- shared accross EC2s
- low cost
- performant
- HA
- Secure: integrates with VPC and IAM

**** use cases

Amazon EFS Use Cases
- Big Data and Analytics
	- Amazon EFS provides the scale and performance required for Big Data applications that require high throughput to compute nodes coupled with read-after-write consistency and low-latency file operations. 
- Media Processing Workflows
	- Media workflows like video editing, studio production, broadcast processing, sound design and rendering often depend on shared storage to manipulate large files. Strong data consistency model with high throughput and shared file access can cut the time it takes to perform these jobs and consolidate multiple local file repositories into a single location for all users.
- Content Management and Web Serving
	- Amazon EFS can be used as a durable, high throughput file system for content management systems that store and serve information for a range of applications like web sites, online publications, and archives.
- Home Directories
	- Amazon EFS can provide storage for organizations that have many users that need to access and share common data sets. An administrator can use Amazon EFS to create a file system accessible to individuals across an organization and establish permissions for users and groups at the file or directory level. 

**** EFS vs EBS

https://aws.amazon.com/efs/details/

**** availability and pricing

- US East, US West (Oregon): $0.30/GB-month
- EU (Ir): $0.33/GB-month

- based on average space susage throughout the month.

Free-tier: 5 GB-month



	



*** Scaling on AWS
- vertical scaling is not limiting availability
- dynamoDB = document database?
- scripting with cloudformation?
- why s3 connected to dynamodb
- Pingdom, gomez = give user perception of speed, and uptime
- oneops wallmart

*** lambda
- s3 has routing rules
- nodejs, python or jvm based lambda server
- cognito authorization service. what it is???
- learn about AWS cognito and lambda: https://mobile.awsblog.com/post/Tx2UQN4KWI6GDJL/Understanding-Amazon-Cognito-Authentication
https://mobile.awsblog.com/post/Tx2FL1QAPDE0UAH/Understanding-Amazon-Cognito-Authentication-Part-2-Developer-Authenticated-Ident

# azure functions

- what is webhook?
** Azure
*** azure functions

- what is webhook?
** Drools

*** Best practices
	
- Keep deployable separate unit
- stateless
- limit number of facts in statefull sessions
- limit object size by using DTOs
- Use batched mode of execution
	- instead of adding object one at a time
- use drools for decisions, not for actual actions
- avoid using eval
- work on aggregates where possible
- use event logging for debugging
- keep individual rules small, simple and atomic
	- avoid cyclic triggering of rules when updating facts
	- use agenda groups and activation groups when possible
- use static java methods in your project to simplify rule action logic
	- why?

*** EAG best practices

- minimize the number of rules within a drl source file
	- for ease of maintainability, only one rule should be specified per file
- Group DRL files within a package to replesent a specific business rule matching context
- facts added to the knowledge session should be immutable
	- rule matching should not depend on the outcome of another rule's actions (create layers to reduce knowledge base size. Modularity)
	- it is preferred to execute the rule's actions by updating a responseholder object response to the rule's engine caller
	- at that point, the rule engine caller, can create a new session to re-evaluate the matching rules
- rules must be unit tested

infered facts = facts created by a then clause of a rule


**feedback**: no clear rationale for the points above. unclear for lead and devs


*** questions

- read about triggering on sub objects, using modify or update
- immutable input facts
- inferred facts vs derived facts
  
** Git
*** Revert commits
**** What Linus says: https://opensource.apple.com/source/Git/Git-26/src/git-htmldocs/howto/revert-a-faulty-merge.txt
** angular2

startup files: https://github.com/DeborahK/Angular2-GettingStarted

*** checklists
**** Component Checklist

 - Class -> Code
 - Decorator -> Metadata
 - Import what we need

**** Component Checklist: Class

 - Clear name
	 - Use PascalCasing
	 - Append "Component" to the name
 - export keyword
 - Data in properties
	 - Appropriate data type
	 - Appropriate default value
	 - camelCase with first letter lowercase
 - Logic in methods
	 - camelCase with first letter lowercase
	
**** Component Checklist: Metadata

 - Component decorator
	 - Prefix with @; Suffix with ()
 - selector: Component name in HTML
	 - Prefix for clarity
 - template: View's HTML
	 - Correct HTML syntax
	
**** Component Checklist: Import

 - Defines where to find the members that
 - this component needs
 -  import keyword
 - Member name
	 - Correct spelling/casing
 - Module path
	 - Enclose in quotes
	 - Correct spelling/casing
	
**** Template

 - Inline template
	 - For short templates
	 - Specify the templateproperty
	 - Use the ES 2015 back ticks for multiple lines
	 - Watch syntax
 - Linked template
	 - For longer templates
	 - Specify the templateUrlproperty
	 - Define the path to the HTML file
	
**** Component as Directive

 1. define "selector" id in component decorator
 2. use selector in user's template
 3. specify the component in the user's decorator "directives" attribute
 4. import the component

**** Interpolation

 - One way binding
	 - From component class property to an element property.
 - Defined with double curly braces
	 - Contains a template expression
	 - No quote needed
	
**** Structural directives

 - *ngIf and *ngFor
	 - Prefix with an asterisk
	 - Assign to a quoted string expression
 - *ngIf
	 - Expression is evaluated as a true or false value
 - * ngFor
	 - Mark the local variable with #
	 - Specify 'of': '#product ofproducts'

**** Pipes

 - Pipe character: |
 - Pipe name
 - Piper parameters
	 - separated with colons

 Example

 ```
 {{ product.price | currency:'USD':true:'1.2-2' }}
 ```

**** Interfaces

 - Defines custom types
 -  Creating interfaces:
	 - interfacekeyword
	 - export it
 - Implementing interfaces:
	 - implementskeyword & interface name
	 - Write code for each property & method
	
**** Encapsulating Styles

 - styles property
	 - Specify an array of style strings
 - styleUrls property
	 - Specify an array of stylesheet paths
	
**** Using lifecycle hooks

 - Import the lifecycle hook interface
 - Implement the lifecycle hook interface
 - Write code for the hook method

**** Build custom pipe

 - Import Pipe and
 - PipeTransform
 - Create a class that implements
 - PipeTransform
	 - exportthe class
 - Write code for the Transform method
 - Decorate the class with the Pipe decorator

**** Using a custom pipe

 - Use the Pipe in the template
	 - Pipe character
	 - Pipe name
	 - Pipe arguments (separated with colons)
 - Import the custom pipe
 - Add the pipes property to the component's metadata

**** Nested Component

 - Input decorator
	 - Attached to a property of any type
	 - Prefix with @; Suffix with ()
 - Output decorator
	 - Attached to a property declared as an EventEmitter
	 - Use the generic argument to define the event payload type
	 - Use the new keyword to create an instance of the EventEmitter
	 - Prefix with @; Suffix with ()

**** Container Component

 - Use the directive
	 - Directive name -> nested component's selector
 - Use property binding to pass data to the nested component
 - Use event binding to respond to events from the nested component
	 - Use $event to access the event payload passed from the nested component

**** Checklist: Creating a Service

 - Service class
	 - Clear name
	 - Use PascalCasing
	 - Append "Service" to the name
	 - exportkeyword
 - Service decorator
	 - Use Injectable
	 - Prefix with @; Suffix with ()
 - Import what we need

**** Checklist: Registering a Service

 - Select the appropriate level in the hierarchy
	 - Root component if service is used throughout the application
	 - Specific component if only that component uses the service
	 - Otherwise, common ancestor
 - Component metadata
	 - Set the providers property
	 - Pass in an array
 - Import what we need

**** Checklist: Dependency Injection

 - Specify the service as a dependency
 - Use a constructor parameter
 - Service is injected when component is instantiated

**** Http Checklist: Setup

 - Include the Angular 2 Http script
 - Register HTTP_PROVIDERS
 - Import RxJS

**** Http Checklist: Service

 - Import what we need
 - Define a dependency for the http client service
	 - Use a constructor parameter
 - Create a method for each http request
 - Call the desired http method, such as get
	 - Pass in the Url
 - Map the Http response to a JSON object
 - Add error handling

**** Http Checklist: Subscribing

 - Call the subscribe method of the returned observable
 - Provide a function to handle an emitted item
	 - Normally assigns a property to the returned JSON object
 - Provide an error function to handle any returned errors

**** Checklist: Displaying Components 

 - Nest-able Components
	 - Define a selector
	 - Nest in another component
	 - No route
 - Routed Components
	 - No selector
	 - Configured route
	 - User actions to activate the route

**** Routing Checklist: Setup

 - Include the Angular 2 router script
 - Define the base element
 - Register ROUTER_PROVIDERS

**** Routing Checklist: Configuring Routes 

 - path
	 - Url path segment for route
 - name
	 - Route name
	 - PascalCase
 - component
	 - Not string name; not enclosed in quotes
	 - Each component must be imported
 - useAsDefault

**** Routing Checklist: Tying Routes to Actions
 
 - Specify ROUTER_DIRECTIVES in the directives array
 - Add the RouterLinkdirective as an attribute
	 - Clickable element
	 - Enclose in square brackets
 - Bind to a link parameters array
	 - First element is the route name
	 - All other elements are route parameters

**** Routing Checklist: Place the View

 - RouterOutlet
 - Identifies where to display the routed component's view
 - Specified in the host component's template

**** Routing Checklist: Passing Parameters

 product-list.component.html
 ```
 <a[routerLink]="['ProductDetail',{id: product.productId}]">
	 {{product.productName}}
 </a>
 ```

 app.component.ts
 ```
 { path: '/product/:id', name: 'ProductDetail', component: ProductDetailComponent}
 ```

 product-detail.component.ts
 ```
 import { RouteParams} from 'angular2/router';

 constructor(private_routeParams: RouteParams) {
	 console.log(this._routeParams.get('id'));
 }
 ```

**** Routing Checklist: Activate a Route with Code
 
 - Use the Router service
	 - import the service
	 - Define it as a dependency
 - Create a method that calls the navigate method of the Router service
	 - Pass in the link parameters
 - Add a user interface element
	 - Use event binding to bind to the created method
** AWS - Elastic File system (EFS)

# What is it?


- seamsless integration: connects using NFS4.1 protocol
- auto resize
- Managed services
- shared accross EC2s
- low cost
- performant
- HA
- Secure: integrates with VPC and IAM

# use cases

Amazon EFS Use Cases
- Big Data and Analytics
	- Amazon EFS provides the scale and performance required for Big Data applications that require high throughput to compute nodes coupled with read-after-write consistency and low-latency file operations. 
- Media Processing Workflows
	- Media workflows like video editing, studio production, broadcast processing, sound design and rendering often depend on shared storage to manipulate large files. Strong data consistency model with high throughput and shared file access can cut the time it takes to perform these jobs and consolidate multiple local file repositories into a single location for all users.
- Content Management and Web Serving
	- Amazon EFS can be used as a durable, high throughput file system for content management systems that store and serve information for a range of applications like web sites, online publications, and archives.
- Home Directories
	- Amazon EFS can provide storage for organizations that have many users that need to access and share common data sets. An administrator can use Amazon EFS to create a file system accessible to individuals across an organization and establish permissions for users and groups at the file or directory level. 

# EFS vs EBS

https://aws.amazon.com/efs/details/

# availability and pricing

- US East, US West (Oregon): $0.30/GB-month
- EU (Ir): $0.33/GB-month

- based on average space susage throughout the month.

Free-tier: 5 GB-month

** AWS

# module 1 # 

Important notes:

- cloud computing
	- on demand
	- IT resources
	- Accessible online
	- Pay as you go

region: regional infrastructure hosting AZs

AZ: availability zones. multiple ones in a region. HA + performance

Edge ??: CDN caching static content close to users

# module 2 #

## compute product category ##

### EC2: elastic compute cloud ###
	- can scale up/down
	- basic unit of computing
	- types: general, compute, storage and io, GPU, memory optimized, small
	
AMI: amazon machine image
	- OS
	- templates or custom


	
pricing
	- on demand: by the hour, no commitment
	- reserved: upfront, lower rate 50%-75 from on demand
	- spot: bid for unused EC2 capacity, super cheap. can be interupted
	- dedicated: private hardware, isolated, steady-state

### autoscaling ###

- auto scale #EC2 instances up/down in an auto scaling group
- ensure they runs x number of EC2. kill and replace unhealthy EC2
- use with Elastic load balancer: load balance and send to healthy EC2
- free to use

### elastic load balancing (ELB) ###

- distribute load
- fault tolerant
- detect health of EC2s
- remove failing instances
- re-route trafic to healty instances
- spans multiple AZs

- features: HTTP, SSL, TCP
- ssl offloading

## database ##

RDS: relational
DynamoDB: NoSQL
ElastiCache: caching data

### amazon relational database service (RDS) ###
- features
  - fully managed
  - fast, predictable performance 1k to 30k IOPS
  - seamless integration

benefits:
	- elastic
	- flexible (sql, mysql, oracle, pgsql
	- secure
	- low cost

## networking ##

features:
- logically isolated
- private network connections
- HA DNS
- low latency

types of services:
- VPC: virtual private cloud
- Route 53: scalable DNS

### VPC ###
- ip range
- public/private subnets
- network topologies
- route table and network gw
- controll access using NACLs and security groups
- can use VPN
- attach elastic IP address (internet accessible)
- free to use + charges for hardware VPN in connection-hour

connectivity:
- internet
- corporate data center
- internet and corporate data center
- other VPCs

### route 53 ###
- powerfull domain management
- low latency
- in/out of AWS
- pay only for:
	-- managed domains
	- number of queries resolved
- ELB integration
- cloudfront zone apex
- s3 zone apex
- AWS management console
	
routing policies:
- latency based routing
- weighted round robin
- dns failover
- geolocation routing
- basic routing

## Storage ##

- Elastic block store (EBS): persistent block store for use with amazon EC3
- Simple storage service (S3): durable, scalable object store
- Glacier: data storage for archiving and backup
- network filesystem, CDN, and more

### EBS ###
- like a HD
- 1GB to 16TB
- partitions, format, boot your OS
- multiple volumes on EC2
- for apps: DB, FS, block-level storage

durability and backup:
- automatic replication within its AZ
- snapshot back-up to S3

io provisioning:
- provision based on need
- or select a burstable performance model
- scale to tens of thousands IOPS per EC2

volume types: 
	standard
		- bursty IO requirements (boot volumes)
		- 100 IOPS, burst to hundreds
		- strip multiple volumes
	provisioned IOPS
		- IO intensive workloads (DB)
		- up to 30 IOPS per GB (4000 IOPS on 134 GB)
		- stripe multiple volumes
	General purpose
		- moderate IO workloads (med size DB)
		- steady state of 3 IOPS per GB. burstable to 3K/10K IOPS
		- stripe multiple volumes

### S3 ###
- store things like a collection of files
	- static website contents
	- backups
	- storage (hadoop cluster for analysis)
- Higher latency than EBS
- easy web file share vs EBS

### Glacier ###
- best for data not frequently accessed
- take time to retrieve (several hours)
- high durability: 11*9s
- cheap 0.01 per GB/month

### lifecycle ###
- can setup movement between S3 -> glacier, and glacier -> delete
- timeline based
- event based

## admin and security ##
IAM: identity and access management
cloudwatch: monitoring, alarms, and monitoring

### IAM ###
- users, user groups and permissions
- can integrate with corporate access directory

## analytics ##

redshift: analyse data / big data

- fully managed
- petabyte-scale
- use existing BI tools
- columnar storage (ie: casandra)
- uses data sources: jdbc, odbc, pgsql drivers
- security: encryption, network isolation (fw), audit and compliance
- others: machine learning, hadoop, streaming processing

## deployment ##

cloudformation: automate deployment

- create templates of resources.


## module 4 ##

http://aws.amazon.com/architecture/
http://calculator.s3.amazonaws.com/index.html
http://aws.amazon.com/economics/
http://aws.amazon.com/account/
http://status.aws.amazon.com/
http://aws.amazon.com/security/
https://aws.amazon.com/premiumsupport/trustedadvisor/
security compliance certifications: http://aws.amazon.com/compliance/


###################
# 

# test drive partner: http://aws.amazon.com/partners/testdrive/
# competency programs: https://aws.amazon.com/partners/competencies/
# aws marketplace: fast provision of AWS customized apps
# Ops Checklist: http://media.amazonwebservices.com/AWS_Operational_Checklists.pdf
	


** how to run askbot
askbot installation

# installation and configuration

The installation of askbot is done following these steps:

1. Install Python
2. Install PostgreSQL
3. Install Askbot
4. Initial Askbot configuration (software + db schema)
5. Install and configure Apache Web Server

# Install python

Here we are going to install python64

## Download

download python 2.7.x 64bit from: <https://www.python.org/ftp/python/2.7.12/python-2.7.12.amd64.msi>

## Install

install python 2.7 in c:\\apps\\Python27


# Install PostgreSQL database

## Download x86-64 (At this time: 9.5.4)

Download from EnterpriseDB site: <http://www.enterprisedb.com/products/pgdownload.do#windows>

## Install

- run the installer
- install in C:\\apps\\PostgreSQL\\9.5
- pick a password (the current is: qg2cZY50FWyKMQ55utBj)
- accept all defaults

## Configure

- launch psql shell
- login with "postgres" with the password set during installation
- execute: create role askbot with createdb login encrypted password 'KFuSe2Y28u';
- execute: create database askbotdb with owner=askbot;
- open file: c:\\apps\\postgresql\\9.5\\data\\pg_hba.conf and add the following line:

~~~
host askbotdb    askbot      127.0.0.1/32       md5
~~~

- restart postgresql (in "services")

ref: <http://askbot.org/doc/create-database.html>

# Install and Configure Askbot

This will install askbot modules in the virtualenv python environment as configured during the python installation



## configure virtual-env

it is suggested to install askbot in a virtual folders to:

1. enable to run multiple askbot instances
2. simpler software maintenance

- run in a admin cmd prompt
  - virtualenv c:\\apps\\python27-askbot0.7.56
  - modify environment variables:
    - PYTHON_HOME=c:\\apps\\python27-askbot0.7.56
    - PATH: replace the python path with %PYTHON_HOME% (found in 2 places)
  - Note: you need to restart your admin cmd prompt after this step


## install askbot in python

- open a admin cmd prompt
- run: pip install askbot

ref: <http://askbot.org/doc/install.html>

## Configure an Askbot site

This is as described in the askbot documentation

~~~
cd c:\apps
mkdir askbot_tekstack
cd askbot_tekstack
askbot-setup
python manage.py collectstatic

~~~

ref: <http://askbot.org/doc/initial-configuration.html>

**Note:** 
You can repeat the operations to have multiple running instances. In this case, you must modify the site's settings.py and define different "CACHE" "KEY_PREFIX" values to avoid caching issues across site

In today's case, I have two instances "askbot_tekstack" and "askbot_appsdev"

# Install and Configure Apache Web Server

Apache and the django (python) module requires many VC runtime libraries

## Download and install VC runtime libraries

If you have a 64-bit Windows, you must install both 32 and 64bit versions, even if you do not use Wampserver 64 bit.
This is item number 20 of TROUBLESHOOTING TIPS of Wampserver: <http://forum.wampserver.com/read.php?2,1349151>

1. VC9 Packages (Visual C++ 2008 SP1)

    <http://www.microsoft.com/en-us/download/details.aspx?id=5582>
    <http://www.microsoft.com/en-us/download/details.aspx?id=2092>

2. VC10 Packages (Visual C++ 2010 SP1)

    <http://www.microsoft.com/en-us/download/details.aspx?id=8328>
    <http://www.microsoft.com/en-us/download/details.aspx?id=13523>

3. VC11 Packages (Visual C++ 2012 Update 4)

    The two files VSU4\\vcredist_x86.exe and VSU4\\vcredist_x64.exe to be download are on the same page: <http://www.microsoft.com/en-us/download/details.aspx?id=30679>
4. VC13 Packages] (Visual C++ 2013)

    The two files VSU4\\vcredist_x86.exe and VSU4\\vcredist_x64.exe to be download are on the same page: <https://www.microsoft.com/en-us/download/details.aspx?id=40784> 

5. VC14 Packages (Visual C++ 2015)

    The two files vcredist_x86.exe and vcredist_x64.exe to be download are on the same page:
    <http://www.microsoft.com/fr-fr/download/details.aspx?id=48145>

## Download Apache

Apache distribution working with django and windows server is called ApacheHaus.

The package is the 64 bit Apache 2.4.x VC9

Download it from here: <http://www.apachehaus.com/cgi-bin/download.plx#APACHE24VC09>

## install apachehaus

- install apache haus windows binaries in: c:\\apps\\Apache24
- configure conf/httpd.conf to point to the right installation server root path
- install as a service: httpd -k install
- httpd -k start
- start apache (alternate):
  - launch c:\\apps\\apache24\\bin\\apachemonitor
  - in the trayicon, left click -> apache2.4 -> start
  - open your browser at <http://localhost> and verify that you see the default apachehaus page
  - verify the same for <https://localhost>

## install django module (mod_wsgi)

Download from: <http://www.lfd.uci.edu/~gohlke/pythonlibs/dp2ng7en/mod_wsgi-4.4.23+ap24vc9-cp27-cp27m-win_amd64.whl>

- open a cmd prompt with administrator rights
- run: pip install mod_wsgi-4.4.23+ap24vc9-cp27-cp27m-win_amd64.whl
- verify that the mod_wsgi.so is installed in the virtual env folder
- store the content of the file below in the conf/extra/httpd-vhosts.conf and modify httpd.conf to load it
- once done, restart apache and you should be able to access:
    - <https://qcvakbot01.allegisgroup.com/appsdev>
    - <https://qcvakbot01.allegisgroup.com/tekstack>

~~~

#
# Virtual Hosts
#
# If you want to maintain multiple domains/hostnames on your
# machine you can setup VirtualHost containers for them. Most configurations
# use only name-based virtual hosts so the server doesn't need to worry about
# IP addresses. This is indicated by the asterisks in the directives below.
#
# Please see the documentation at 
# <URL:http://httpd.apache.org/docs/trunk/vhosts/>
# for further details before you try to setup virtual hosts.
#
# You may use the command line option '-S' to verify your virtual host
# configuration.

#
# Use name-based virtual hosting.
#

#
# VirtualHost example:
# Almost any Apache directive may go into a VirtualHost container.
# The first VirtualHost section is used for all requests that do not
# match a ServerName or ServerAlias in any <VirtualHost> block.
#

# NOTE 
# First Virtual Host MUST be a shallow duplicate of the main host 
# in httpd.conf. It will become the default host. Any request coming
# in that does not match any other VirtualHost's ServerName will be
# served by this host.

WSGIPythonHome c:/apps/python27-askbot0.7.56

Define AB_ROOT          "C:/apps/askbot_appsdev"
Define AB_TEKSTACK_ROOT "C:/apps/askbot_tekstack"

<VirtualHost *:80>
    DocumentRoot "${SRVROOT}/htdocs"
    ServerName qcvakbot01.allegisgroup.com:80
	
    #make all admin stuff except media go through secure connection
    <LocationMatch "(.*)">
		RewriteEngine on
		RewriteRule (.*)$ https://qcvakbot01.allegisgroup.com [L,R=301]
    </LocationMatch>
</VirtualHost>

# Add any other Virtual Hosts below


<VirtualHost *:443>
    ServerAdmin you@example.com
    DocumentRoot ${AB_ROOT}
    ServerName qcvakbot01.allegisgroup.com:443

    #your SSL keys
    SSLEngine on
    SSLCertificateFile C:/apps/Apache24/conf/ssl/server.crt
    SSLCertificateKeyFile C:/apps/Apache24/conf/ssl/server.key

    WSGIScriptAlias /appsdev ${AB_ROOT}/django.wsgi
    WSGIScriptAlias /tekstack ${AB_TEKSTACK_ROOT}/django.wsgi
    
	Alias /appsdev/m/ ${AB_ROOT}/static/
	Alias /tekstack/m/ ${AB_TEKSTACK_ROOT}/static/
    Alias /appsdev/upfiles/ ${AB_ROOT}/askbot/upfiles/
    Alias /tekstack/upfiles/ ${AB_TEKSTACK_ROOT}/askbot/upfiles/

	<Directory ${AB_ROOT}>
        <Files *.wsgi>
            Require all granted
        </Files>
    </Directory>
	<Directory ${AB_ROOT}/static/>
		Require all granted
	</Directory>
	<Directory ${AB_ROOT}/askbot/upfiles/>
		Require all granted
	</Directory>
	
	<Directory ${AB_TEKSTACK_ROOT}>
        <Files *.wsgi>
            Require all granted
        </Files>
    </Directory>
	<Directory ${AB_TEKSTACK_ROOT}/static/>
		Require all granted
	</Directory>
	<Directory ${AB_TEKSTACK_ROOT}/askbot/upfiles/>
		Require all granted
	</Directory>
</VirtualHost>


~~~

ref: <https://github.com/GrahamDumpleton/mod_wsgi/blob/master/win32/README.rst>

Mod WSGI (ap24vc9-cp27): <http://www.lfd.uci.edu/~gohlke/pythonlibs/#mod_wsgi>
* Culture and organization
** DevOPS / microservice
*** best practice

- inbox makeover

*** transactions
**** distributed transactions
**** undo what has been done
**** references
***** [[https://www.atomikos.com][extreme transactions]] framework
***** [[http://ws-rest.org/2014/sites/default/files/wsrest2014_submission_7.pdf][rest distributed transaction]]
*** CI


- build backend: gradle
- build frontend: grunt
- frontend dependencies: bower
- build / pipeline automation: jenkins
- [[http://www.martinfowler.com/articles/continuousIntegration.html][Martin Fowler on continuous integration]]

*** CD

- flyway

*** OPS
-  Resources monitoring:: [[http://prometheus.io][prometheus]]
- Logging:: fluentd
- Log analytics: [[https://www.graylog.org/][Graylog]]
- Web Analytics: [[http://piwik.org][Piwik]]

*** deployment
**** orchestration
***** kubernetes
***** swarm
 url: https://docs.docker.com/swarm/install-w-machine/
 swarm tokenid: 73a5e0bffaa5dcc79b0a63b845623eae
*** tools
troubleshooting:
  - graylog
  - visualvm
  - jmeter

*** How they do it videos

- [[https://www.youtube.com/watch?v=7LGPeBgNFuU][microservices at spotify]]
- http://techblog.netflix.com/2016/03/how-we-build-code-at-netflix.html
- https://blog.docker.com/2016/03/swarmweek-docker-swarm-exceeds-kubernetes-scale/
- [[http://www.slideshare.net/mobile/ericschmidt/how-google-works-final-1/1][how google works]]
- Spotify culture [[http://vimeo.com/85490944][part 1]] [[http://vimeo.com/94950270][part 2]]
- [[http://www.thoughtworks.com/insights/blog/continuous-delivery-broken-builds-and-clean-conscience][continuous delivery broken-builds and clean conscience]]

*** architecture articles
- [[http://www.infoq.com/articles/pragmatic-architect][Pragmatic architect]]
- [[http://martinfowler.com/articles/designDead.html][is design dead?]]

*** Quality model (ISO-25010)

*** programming methods


*** Devops

- [[https://youtu.be/eRvSH5wOZSY][What is DEVOPS]] 
- [[http://devopschecklist.com/][DevOPS checklist]]
- Maturity model [[https://developer.ibm.com/urbancode/docs/continuous-delivery-maturity-model/][IBM]] [[http://urbancode.com/resources][urban code]] [[https://developer.ibm.com/urbancode/docs/continuous-delivery-maturity-model/][CD MM]]

* Interview questions
** Pre-screening questions
*** Are you familiar with the term [[https://en.wikipedia.org/wiki/Robert_Cecil_Martin][clean code]]?  Who is the Author and what does it mean?
**** Answers 
***** General answer:
****** *easy to read*
****** *easy to maintain*
****** efficient
****** effective
***** Author: 
****** Robert C Martin, Uncle Bob, Clean code: a handbook of agile software craftsmanship, programming principle

*** What does the acronym [[https://en.wikipedia.org/wiki/SOLID_(object-oriented_design)][SOLID]] stand for?
  if the candidate cannot tell, go through each principle and ask for a description
**** Answers
***** Single responsibility (SRP)       
  a class should have only a single responsibility (i.e. only one potential change in the software's specification should be able to affect the specification of the class)
***** Open/closed (OCP)
  software entities … should be open for extension, but closed for modification.
***** Liskov substitution (LSP)
  objects in a program should be replaceable with instances of their subtypes without altering the correctness of that program
***** Interface segregation (ISP)
  many client-specific interfaces are better than one general-purpose interface
***** Dependency inversion (DIP)
  one should “depend upon abstractions, [not] concretions

*** Name your top 5 OOP / design principles (other than Inheritance & polymorphism) that you try to apply on all of your projects to make you code easy to maintain
**** Single responsibility; Every class, function has one role / responsibility
**** Open/closed; Create reusable components
**** Liskov substitution
**** Interface segregation; use of interfaces
**** Dependency inversion  
**** Breakup complex methods into testable units    
**** Details domain model, Modeling
**** Data Encapsulation
**** Keep the code clean, readable
**** Keep it simple
**** Refactoring constantly
**** Automated tests

*** What kind/type of automated tests that can you write?
  Here couple is enough.
**** Unit test
**** integration test
**** functional test
**** contract test
**** UI test
**** Component test
**** Performance test
**** Load test
**** Characteristic test
                
*** What does the acronym AAA stand for (testing pattern)? What is the structure of a typical automated test?
  
**** Arrange (Setup, Configure)
  describes whatever setup is needed

**** Act (Run, Execute)
  describes the subject's behavior that's under test (and typically only describes a single line needed to invoke that behavior)

**** Assert (validate)
  describes the verification that the subject's behavior had the desired effect by evaluating its return value or measuring a side-effect (with a spy or mock)

*** What are mock object? Why and when to use them?
  Mocks allow you to isolate a specific component by mimicking the other components it interacts with. This allows you to test specific scenarios by controlling the interactions with the other components. You can afterwards verify that the correct methods were called, with the expected parameters, in the correct order.

*** What is your preferred CI tool chain\framework?
**** unit test framework; junit, testNG
**** mocking framework; mockito, jMock
**** Bdd test framework; jbehave, Cucumber
**** build automation; Jenkins
**** Static analysis; sonarqube (PMD Findbugs Checkstyle)
**** source control: git
**** package installer: maven, gradle
**** code coverage: cobertura, eclemma, sonarqube

*** Key characteristic of code that is “complete” (no order necessarily)
**** Code is committed / pushed to the source control repository (git, tfs, svn, clearcase)
**** Tests runs
**** Test coverage above x % (normally above 75%)
**** Static code analysis validation. Enabled with quality gates to enforce good practices
**** No new issues introduced
**** Code is well formatted
**** Peer code review completed
**** Functional tests pass
**** Performance tests pass (when needed)
**** Documentation is update (when needed)

25.57.249.0/25 dev rmnet_data0 proto kernel scope link src 25.57.249.64
192.168.43.0/24 dev wlan0 proto kernel scope link src 192.168.43.1
192.168.255.4/30 dev tun0 proto kernel scope link src 192.168.255.6

tun0 192.168.255.6
wlan0 192.168.43.1
rmnet_data0 25.57.249.64
** Detailed interview
*** Architecture
**** Technical requirement gathering
   - I want you to build me a guitar. What is your approach?
**** Software system analysis and design
   - Can you explain what are the SOLID principles?
   - Can you give examples of meeting/breaking open/close principle?
   - Can you explain the difference between Inversion of Control and dependency injection?
   - Would you recommend Dependency Injection or Service Locator for a new, greenfield project?
   - Difference between abstract class and interface?  Is still true in Java 8?
**** Architecture and integration styles and patterns
   - What architecture/integration patterns have you used recently?
   - What software design patterns have you used recently?
     - can you draw me how it works?
   - Key differences between SOAP and REST?
**** Communication (including effective diagramming)
 	(look at how the candidate explain solutions, ask questions, etc...)
**** TODO situational leadership
     SCHEDULED: <2017-03-16 Thu>
*** Software Development

 - Software development lifecycle
	 - which portion of the lifecycle have you worked on?
 - Software development process
	 - Agile: what do you do when scope of a sprint change? How does it affect the current work?
	 - Agile: what do you do when you are not done at the end of the sprint?
 - Multiple software types
	 - which type of applications have you worked on?
 - Software design
	 - What do you consider to be good general guidelines for handling exceptions ?
	 - What happens when an exception is thrown on a background thread?
 - Data modeling
 - Code quality
	 - What do you consider the attributes of high quality code?
	 - Do you write comments? Always? Why?
	 - Have you used any tools related to code quality?
 - Test automation
	 - I dont use TDD and it sounds complicated. Convince me to use it.
	 - How to you structure your test methods?
	 - Can you explain the different type of tests?
	 - What is the difference between unit testing and integration testing?
	 - We need to test everything, am I right? why?
 - Build and deployment automation
	 - Do you use build automation?
	 - What do you recommend as steps in an automated build?
 - Source control and configuration management
	 - Can you explain 2 different branching strategies you have used?
 - Software security
	 - Can you explain how public key encryption works?
 - Libraries and frameworks
	 - Recap the main libraries / framework you have used in the past 2 years?
 - Leadership

*** Whiteboard exercises

**** past experience

 - What is the most interesting projects you have worked on
 - can you explain me the design (whiteboard)?
 - what are the parts that could be improved? Show how it would look.

**** caching system

 - describe what a cache is and when it should be used
 - describe how to implement a simple cache
 - draw it up on the whiteboard, pseudo code it
 - what are the policies for cache updates/invalidation? why?
 - what happens when what you want to cache gets too big for a single box? draw the solution.
 - how would you implement a multi-server caching solution?

**** shapes

Create model classes that will properly represent the following constructs:
 - Define a Shape object, where the object is any two dimensional figure, and has the following characteristics: a name, a perimeter, and a surface area.
 - Define a Circle, retaining and accurately outputting the values of the aforementioned characteristics of a Shape.
 - Define a Triangle. This time, the name of the triangle should take into account if it is equilateral (all 3 sides are the same length), isoceles (only 2 sides are the same length), or scalene (no 2 sides are the same).

**** access control

  we need to control access to a customer web site. Rules are:
  1. each customer may have one or more people to access the site
  2. different people from different customers may be able to view different parts of the site
  3. the same person may work for more than one customer
  4. customers want to manage permissions based on the person, department, team, or project

**** FizzBuzz test
  [Source](http://c2.com/cgi/wiki?FizzBuzzTest)

  Write a program that prints the numbers from 1 to 100. But for multiples of three print “Fizz” instead of the number and for the multiples of five print “Buzz”. For numbers which are multiples of both three and five print “FizzBuzz”

** Agile
*** [[http://www.dtelepathy.com/blog/business/ship-faster-stop-everything-design][design spikes]]
* plantuml
** branching
*** version 1
#+BEGIN_SRC dot :file branching1.png
strict digraph g{
rankdir="TB";
nodesep=0.5;
ranksep=0.25;
splines=line;
forcelabels=false;

// general
node [style=filled, color="black", 
    fontcolor="black", font="Consolas", fontsize="8pt" ];
edge [arrowhead=vee, color="black", penwidth=2];

// branch names
node [fixedsize=false, penwidth=0, fillcolor=none, shape=none, width=0, height=0, margin="0.05"];
subgraph {
    rank=sink;
    me [label="master", group="master"];
}
subgraph {
    rank=sink;
    de [label="develop", group="develop"];
}

// tags
node [shape=cds, fixedsize=false, fillcolor="#C6C6C6", penwidth=1, margin="0.11,0.055"]
t1 [label="0.1"]
t2 [label="0.2"]
t3 [label="1.0"]

// graph
node [width=0.2, height=0.2, fixedsize=true, label="", margin="0.11,0.055", shape=circle, penwidth=2, fillcolor="#FF0000"]

// branches
node  [group="master", fillcolor="#27E4F9"];
m1;
m2;
m3;
m4;
subgraph {
    rank=source;
    ms [label="", width=0, height=0, penwidth=0];
}
m1 -> m2 -> m3 -> m4;
ms -> m1 [color="#b0b0b0", style=dashed, arrowhead=none ];
m4 -> me [color="#b0b0b0", style=dashed, arrowhead=none ];

node  [group="hotfixes", fillcolor="#FD5965"];
h1;

node  [group="release", fillcolor="#52C322"];
r1;
r2;
r3;
r4;
r5;
r1 -> r2 -> r3 -> r4;

node  [group="develop", fillcolor="#FFE333"];
d1;
d2;
d3;
d4;
d5;
d6;
d7;
d8;
d9;
d10;
d1 -> d2 -> d3 -> d4 -> d5 -> d6 -> d7 -> d8 -> d9 -> d10;
d10 -> de [color="#b0b0b0", style=dashed, arrowhead=none ];

node  [group="feature 1", fillcolor="#FB3DB5"];
fa1;
fa2;
fa3;
fa4;
fa5;
fa6;
subgraph fas1 {
    fa1 -> fa2 -> fa3;
}
subgraph fas2 {
    fa4 -> fa5 -> fa6;
}

node  [group="feature 2", fillcolor="#FB3DB5"];
fb1;
fb2;
fb3;
fb4;
subgraph{ rank=same; fa6; fb4; } // hack
subgraph{ rank=same; fa1; fb1; } // hack
fb1 -> fb2 -> fb3 -> fb4;

// nodes
m1 -> d1;
m1 -> h1;
h1 -> m2;
h1 -> d5;
d3 -> fa1;
fa3 -> d6;
d6 -> r1;
r2 -> d7;
r4 -> d8;
r4 -> m3;
d9 -> r5;
r5 -> m4;
r5 -> d10;

d7 -> fa4;
fa6 -> d9;

d3 -> fb1;
fb4 -> d9;

// tags connections
edge [color="#b0b0b0", style=dotted, len=0.3, arrowhead=none, penwidth=1];
subgraph  {
    rank="same";
    m1 -> t1;
}
subgraph  {
    rank="same";
    m2 -> t2 ;
}
subgraph  {
    rank="same";
    m3 -> t3;
}
}

#+END_SRC

#+RESULTS:
[[file:branching1.png]]
*** version 2
#+BEGIN_SRC dot :file branching2.png
   shape=circle, style=filled, color="#909090",
        fontcolor="deepskyblue", font="Arial bold", fontsize="14pt" ];
    edge [arrowhead=none, color="#909090", penwidth=3];

    node  [group="release3"];
    s3    [label="release 3\n\n", width=0.03, height=0.03, shape=box];
    r30   [label="    R3.0\n\n\n"];
    e3    [label="", width=0.03, height=0.03, shape=box];
    e3f   [label="", width=0.03, height=0.03, shape=circle, color="#b0b0b0"];
    s3 -> r30 -> e3;
    e3 -> e3f [color="#b0b0b0", style=dashed];

    node  [group="release2"];
    s2    [label="release 2\n\n", width=0.03, height=0.03, shape=box];
    b2    [label="", width=0.03, height=0.03, shape=box];
    r20   [label="    R2.0\n\n\n"];
    e2    [label="", width=0.03, height=0.03, shape=box];
    e2f   [label="", width=0.03, height=0.03, shape=circle, color="#b0b0b0"];
    s2 -> b2 -> r20 -> e2;
    e2 -> e2f [color="#b0b0b0", style=dashed];

    node  [group="release1"];
    s1    [label="release 1\n\n", width=0.03, height=0.03, shape=box];
    ttest [label="    test\n\n\n"];
    b1    [label="", width=0.03, height=0.03, shape=box];
    r10   [label="    R1.0\n\n\n"];
    r11   [label="    R1.1\n\n\n"];
    e1    [label="", width=0.03, height=0.03, shape=box];
    e1f   [label="", width=0.03, height=0.03, shape=circle, color="#b0b0b0"];
    s1 -> ttest -> b1 -> r10 -> r11 -> e1;
    e1 -> e1f [color="#b0b0b0", style=dashed];

    b1 -> s2;
    b2 -> s3;

}

#+END_SRC

#+RESULTS:
[[file:branching2.png]]
