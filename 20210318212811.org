:PROPERTIES:
:ID:       58b5d543-b8e7-487c-84ab-d1db18f62dad
:END:
#+title: java service locator
* What is it?

implementation of plugins based on properties files that could be packaged elsewhere. kind of like spring without spring for strategy pattern.

* How?

1. Create an interface for the strategy
2. implement it
3. create a resource in: META-INF/services
   a. same package + interface name created in step 1
   b. contains a fqdn of all implementations to load (the ones created in 2)
4. call java.util.Service.load on the interface class. It will return all implementations specified in step 3

snippet code:

#+BEGIN_SRC java :noeval
List<MyInterface> allImplementations = ServiceLoader.load(MyInterface.class)
    .stream()
    .map(ServiceLoader.Provider::get)
    .collect(Collectors.toList());
#+END_SRC

